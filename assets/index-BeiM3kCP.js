import{j as e,R,r as x}from"./react-Bt3bhBdA.js";import{c as $e}from"./react-dom-BXlFuNsz.js";import{L as ye,H as qe}from"./react-router-dom-DHUbncfQ.js";import{u as q,Q as Ge,a as Ue}from"./react-query-Bj5z-rjo.js";import{u as J,a as O,P as Je}from"./react-redux-DUEu3U_H.js";import{c as se,a as Qe}from"./@reduxjs-UNmdh41Z.js";import{a as b}from"./js-cookie-Cz0CWeBA.js";import{U as ve,f as Ye}from"./sonner-uJGLNN-L.js";import{j as Xe}from"./jwt-decode-VWaDGczM.js";import{d as K,a as E,b as Ke,O as Ne,e as be,f as es,g as P}from"./react-router-D-6EOTe0.js";import{F as te,a as ae,b as re,c as le,d as ne,e as ie,f as ss,g as ke,h as Se,i as ts,M as Pe,j as as,k as rs,I as ls}from"./react-icons-DKy96jh-.js";import{n as ns,a as V,b as is,l as _,c as D,d as oe,e as ce,f as k,g as os,h as cs,i as I,j as Q,k as Y,m as X,o as $,p as Le,s as ds,q as F,r as L,u as ms,t as hs,v as xs,w as us,x as gs,y as fs,z as ps,N as js}from"./@nextui-org-CxrJQwge.js";import{S as Te}from"./react-slick-Bvav2_Jb.js";/* empty css                       */import{X as Me,C as Ae,a as De,Q as de,S as Cs,G as ws,b as ys}from"./@heroicons-9eIsPQfN.js";import{u as Z}from"./formik-lPYlxogW.js";import{c as _e,a as B,b as Ie}from"./yup-B5qeimF1.js";import{D as vs}from"./react-detect-offline-kpHbxlCb.js";import{A as Ns,m as bs}from"./framer-motion-QPuIzO-I.js";import"./classnames-r5axgyEj.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-Bap6Y4-g.js";import"./@babel-kbgdwr1V.js";import"./use-sync-external-store-DQpYW-qI.js";import"./redux-DITMfSWq.js";import"./immer-BPoY8EgY.js";import"./reselect-BeKUwQU7.js";import"./redux-thunk-ClJT1hhx.js";import"./@react-aria-DC1Dz_Pu.js";import"./@react-stately-DSP_b2h4.js";import"./@swc-DS7M6wx8.js";import"./@internationalized-C5wIqEap.js";import"./react-remove-scroll-_mW9e_3a.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-DenBGOLL.js";import"./react-style-singleton-CpPJSq1L.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-Bcdo7kPa.js";import"./use-callback-ref-CBgtFnvd.js";import"./lodash.debounce-Cx665Aaa.js";import"./resize-observer-polyfill-BWCBsnt7.js";import"./json2mq-DXkj81uw.js";import"./string-convert-DdSrkZLz.js";import"./enquire.js-B8qsBZnP.js";import"./lodash-es-BJz5pcJ4.js";import"./react-fast-compare-CKEne1zV.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./property-expr-DEi1ZLzV.js";import"./tiny-case-BJ7jYKNY.js";import"./toposort-B1SdDeVW.js";import"./prop-types-BKNjMPK8.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&t(u)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}})();const Ee=se({name:"email",initialState:"",reducers:{setEmail:(a,r)=>r.payload}}),{setEmail:ks}=Ee.actions,Ss=Ee.reducer,Fe=a=>async r=>{try{console.log(b.get("loginToken"));const i=await fetch("https://ecommerce.routemisr.com/api/v1/cart",{method:"POST",headers:{"Content-Type":"application/json",token:b.get("loginToken")},body:JSON.stringify({productId:a})});if(i.ok){const t=await i.json();console.log(t),t.status==="success"&&(r(Ps(t.numOfCartItems)),b.set("numOfCartItems",t.numOfCartItems),ve.success("Product added successfully",{duration:4e3}))}else{const t=await i.json();console.log(t)}}catch(i){console.error("failed(network):",i.message)}},ee=()=>async a=>{try{const r=await fetch("https://ecommerce.routemisr.com/api/v1/cart",{method:"GET",headers:{"Content-Type":"application/json",token:b.get("loginToken")}});if(r.ok){const i=await r.json();i.status==="success"&&a(me(i.numOfCartItems))}else{const i=await r.json();console.log(i),a(me(0))}}catch(r){console.error("failed(network):",r.message)}},Be=se({name:"cart",initialState:0,reducers:{initializeUserCart:(a,r)=>r.payload,addToUserCart:(a,r)=>r.payload}}),{addToUserCart:Ps,initializeUserCart:me}=Be.actions,Ls=Be.reducer,Ts={wishlistCount:0,loading:!1,error:null},Ms=a=>async r=>{try{const i=await fetch("https://ecommerce.routemisr.com/api/v1/wishlist",{method:"POST",headers:{"Content-Type":"application/json",token:b.get("loginToken")},body:JSON.stringify({productId:a})});if(i.ok){const t=await i.json();console.log(t),t.status==="success"&&(console.log(t),r(As(t.data.length)),localStorage.setItem("wishlistIds",JSON.stringify(t.data)),ve("Product added successfully to your wishlist",{duration:4e3}))}else{const t=await i.json();console.log(t)}}catch(i){console.error("failed(network):",i.message)}},Re=()=>async a=>{a(xe(!0));try{const r=await fetch("https://ecommerce.routemisr.com/api/v1/wishlist",{method:"GET",headers:{"Content-Type":"application/json",token:b.get("loginToken")}});if(r.ok){const i=await r.json();if(i.status==="success"){const t=i.data.reduce((o,n)=>(o.push(n._id),o),[]);localStorage.setItem("wishlistIds",JSON.stringify(t)),a(he(i.count))}}else{const i=await r.json();console.log(i),a(he(0)),a(ue("Failed to initialize wishlist"))}}catch(r){console.error("failed(network):",r.message),a(ue("Network error"))}finally{a(xe(!1))}},Ve=se({name:"wishlist",initialState:Ts,reducers:{initializeWishList:(a,r)=>({...a,wishlistCount:r.payload,error:null}),addToUserWishList:(a,r)=>({...a,wishlistCount:r.payload,error:null}),setLoading:(a,r)=>({...a,loading:r.payload}),setError:(a,r)=>({...a,error:r.payload,loading:!1})}}),{addToUserWishList:As,initializeWishList:he,setLoading:xe,setError:ue}=Ve.actions,Ds=Ve.reducer,_s=Qe({reducer:{email:Ss,cart:Ls,wishlist:Ds}}),Is="/FreshCart/assets/error-B1_ZqxX0.svg";function Es(){return e.jsx("section",{className:"bg-white dark:bg-gray-900",children:e.jsx("div",{className:"py-8 px-4 mx-auto max-w-screen-xl lg:py-16 lg:px-6",children:e.jsxs("div",{className:"mx-auto max-w-screen-sm text-center",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{className:"block w-100",src:Is,alt:"Page Not Found"})}),e.jsx("p",{className:"mb-4 text-3xl tracking-tight font-bold text-gray-900 md:text-4xl dark:text-white",children:"Something's missing."}),e.jsxs("p",{className:"mb-4 text-lg font-light text-gray-500 dark:text-gray-400",children:["Sorry, we can't find that page. You'll find lots to explore on the home page."," "]}),e.jsx(ye,{to:"/Home",className:"inline-flex text-white bg-lime-600 hover:bg-lime-800 focus:ring-4 focus:outline-none focus:ring-lime-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:focus:ring-lime-900 my-4",children:"Go Back"})]})})})}function Fs(){return e.jsx(e.Fragment,{children:e.jsx(Es,{})})}function Bs({children:a}){const r=b.get("loginToken"),i=!!r;try{Xe(r)}catch{return b.remove("loginToken"),e.jsx(K,{to:"/Signin"})}return i?a:e.jsx(K,{to:"/Signin"})}const Rs=()=>e.jsxs("svg",{width:160,height:31,viewBox:"0 0 160 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M8.12346 24.8618C9.5969 24.8618 10.7914 23.6674 10.7914 22.194C10.7914 20.7205 9.5969 19.526 8.12346 19.526C6.65002 19.526 5.45557 20.7205 5.45557 22.194C5.45557 23.6674 6.65002 24.8618 8.12346 24.8618Z",stroke:"#0AAD0A",strokeWidth:"1.28276",strokeMiterlimit:10,strokeLinecap:"round"}),e.jsx("path",{d:"M6.97607 9.18945H23.1146",stroke:"#0AAD0A",strokeWidth:"1.28276",strokeMiterlimit:10,strokeLinecap:"round"}),e.jsx("path",{d:"M8.38892 12.4171H22.4092",stroke:"#0AAD0A",strokeWidth:"1.28276",strokeMiterlimit:10,strokeLinecap:"round"}),e.jsx("path",{d:"M7.66113 19.525H18.1138C19.2586 19.525 20.2784 18.7977 20.6505 17.7144L24.9585 5.1809C25.3307 4.09761 26.3495 3.37036 27.4953 3.37036H30.6292",stroke:"#0AAD0A",strokeWidth:"1.28276",strokeMiterlimit:10,strokeLinecap:"round"}),e.jsx("path",{d:"M8.12359 22.5791C8.33639 22.5791 8.5089 22.4066 8.5089 22.1939C8.5089 21.981 8.33639 21.8086 8.12359 21.8086C7.91079 21.8086 7.73828 21.981 7.73828 22.1939C7.73828 22.4066 7.91079 22.5791 8.12359 22.5791Z",stroke:"#0AAD0A",strokeWidth:"1.06897",strokeMiterlimit:10,strokeLinecap:"round"}),e.jsx("path",{d:"M17.8222 24.8618C19.2956 24.8618 20.49 23.6674 20.49 22.194C20.49 20.7205 19.2956 19.526 17.8222 19.526C16.3487 19.526 15.1543 20.7205 15.1543 22.194C15.1543 23.6674 16.3487 24.8618 17.8222 24.8618Z",stroke:"#0AAD0A",strokeWidth:"1.28276",strokeMiterlimit:10,strokeLinecap:"round"}),e.jsx("path",{d:"M17.8223 22.5791C18.035 22.5791 18.2076 22.4066 18.2076 22.1938C18.2076 21.981 18.035 21.8085 17.8223 21.8085C17.6095 21.8085 17.437 21.981 17.437 22.1938C17.437 22.4066 17.6095 22.5791 17.8223 22.5791Z",stroke:"#0AAD0A",strokeWidth:"1.06897",strokeMiterlimit:10,strokeLinecap:"round"}),e.jsx("path",{d:"M21.1874 16.152H7.14791C6.67788 16.152 6.26535 15.8261 6.13624 15.3519L3.75481 6.62879C3.63578 6.19381 3.94745 5.75989 4.37916 5.75989H22.3776",stroke:"#0AAD0A",strokeWidth:"1.28276",strokeMiterlimit:10,strokeLinecap:"round"}),e.jsx("path",{d:"M1 26.527C1 26.527 11.26 23.0552 25.1058 26.527",stroke:"#0AAD0A",strokeWidth:"1.28276",strokeMiterlimit:10,strokeLinecap:"round"}),e.jsx("path",{d:"M36.5269 25V6.34164H48.8807V9.59409H40.4717V14.04H48.0608V17.2925H40.4717V25H36.5269Z",fill:"#21313C"}),e.jsx("path",{d:"M50.4661 25V11.0062H54.2287V13.4478H54.3745C54.6296 12.5793 55.0578 11.9233 55.6591 11.48C56.2604 11.0305 56.9528 10.8058 57.7363 10.8058C57.9306 10.8058 58.1402 10.8179 58.3649 10.8422C58.5896 10.8665 58.787 10.8999 58.9571 10.9424V14.3862C58.7749 14.3316 58.5228 14.283 58.2009 14.2404C57.879 14.1979 57.5844 14.1767 57.3172 14.1767C56.7463 14.1767 56.2361 14.3012 55.7866 14.5502C55.3433 14.7932 54.991 15.1333 54.7298 15.5706C54.4747 16.0079 54.3472 16.512 54.3472 17.0829V25H50.4661Z",fill:"#21313C"}),e.jsx("path",{d:"M65.92 25.2733C64.4805 25.2733 63.2415 24.9817 62.2029 24.3987C61.1704 23.8095 60.3747 22.9774 59.8159 21.9024C59.2572 20.8213 58.9778 19.5428 58.9778 18.0669C58.9778 16.6274 59.2572 15.3641 59.8159 14.2769C60.3747 13.1897 61.1613 12.3424 62.1756 11.7351C63.1959 11.1277 64.3924 10.824 65.7651 10.824C66.6883 10.824 67.5477 10.9728 68.3434 11.2704C69.1451 11.562 69.8436 12.0023 70.4388 12.5914C71.0401 13.1806 71.5078 13.9216 71.8418 14.8144C72.1759 15.7012 72.3429 16.7398 72.3429 17.9302V18.9961H60.5266V16.591H68.6896C68.6896 16.0322 68.5681 15.5372 68.3251 15.1059C68.0822 14.6747 67.7451 14.3376 67.3139 14.0947C66.8887 13.8457 66.3937 13.7211 65.8289 13.7211C65.2397 13.7211 64.7174 13.8578 64.2619 14.1311C63.8124 14.3984 63.4601 14.7597 63.205 15.2153C62.95 15.6647 62.8194 16.1658 62.8133 16.7185V19.0052C62.8133 19.6976 62.9408 20.2959 63.1959 20.8C63.4571 21.3041 63.8246 21.6928 64.2983 21.9662C64.7721 22.2395 65.3339 22.3761 65.9837 22.3761C66.415 22.3761 66.8098 22.3154 67.1681 22.1939C67.5265 22.0724 67.8332 21.8902 68.0883 21.6473C68.3434 21.4043 68.5377 21.1067 68.6713 20.7545L72.2609 20.9913C72.0787 21.8538 71.7051 22.6069 71.1403 23.2507C70.5815 23.8885 69.8588 24.3865 68.972 24.7449C68.0913 25.0971 67.074 25.2733 65.92 25.2733Z",fill:"#21313C"}),e.jsx("path",{d:"M85.7492 14.9966L82.1961 15.2153C82.1353 14.9116 82.0048 14.6383 81.8043 14.3953C81.6039 14.1463 81.3397 13.9489 81.0117 13.8031C80.6898 13.6513 80.3041 13.5754 79.8547 13.5754C79.2534 13.5754 78.7462 13.7029 78.3332 13.958C77.9202 14.207 77.7137 14.5411 77.7137 14.9602C77.7137 15.2942 77.8473 15.5767 78.1146 15.8075C78.3818 16.0383 78.8404 16.2235 79.4903 16.3632L82.023 16.8734C83.3835 17.1528 84.3978 17.6022 85.0659 18.2217C85.734 18.8413 86.068 19.6551 86.068 20.6634C86.068 21.5805 85.7978 22.3852 85.2572 23.0776C84.7227 23.77 83.9878 24.3106 83.0525 24.6993C82.1232 25.0819 81.0512 25.2733 79.8365 25.2733C77.984 25.2733 76.5081 24.8876 75.4087 24.1162C74.3155 23.3388 73.6747 22.282 73.4864 20.9458L77.3037 20.7453C77.4191 21.3102 77.6985 21.7414 78.1419 22.039C78.5853 22.3306 79.1532 22.4763 79.8456 22.4763C80.5258 22.4763 81.0724 22.3458 81.4855 22.0846C81.9045 21.8173 82.1171 21.4742 82.1232 21.0551C82.1171 20.7028 81.9683 20.4143 81.6768 20.1896C81.3852 19.9588 80.9358 19.7827 80.3284 19.6612L77.905 19.1783C76.5385 18.905 75.5211 18.4313 74.853 17.7571C74.191 17.0829 73.86 16.2235 73.86 15.1788C73.86 14.2799 74.1029 13.5055 74.5888 12.8557C75.0808 12.2058 75.7701 11.7047 76.6569 11.3524C77.5497 11.0001 78.5944 10.824 79.7909 10.824C81.5583 10.824 82.9492 11.1975 83.9635 11.9446C84.9839 12.6917 85.5791 13.709 85.7492 14.9966Z",fill:"#21313C"}),e.jsx("path",{d:"M91.6233 16.9098V25H87.7423V6.34164H91.514V13.4752H91.678C91.9938 12.6491 92.504 12.0023 93.2086 11.5346C93.9131 11.0609 94.7968 10.824 95.8597 10.824C96.8315 10.824 97.6788 11.0366 98.4016 11.4617C99.1304 11.8808 99.6952 12.4852 100.096 13.2747C100.503 14.0582 100.703 14.9966 100.697 16.0899V25H96.8163V16.7823C96.8224 15.9198 96.6038 15.2487 96.1604 14.7689C95.7231 14.289 95.1096 14.0491 94.3201 14.0491C93.7916 14.0491 93.324 14.1615 92.917 14.3862C92.5162 14.6109 92.2003 14.9389 91.9695 15.3701C91.7448 15.7953 91.6294 16.3085 91.6233 16.9098Z",fill:"#21313C"}),e.jsx("path",{d:"M119.518 12.8739H115.527C115.454 12.3576 115.306 11.899 115.081 11.4982C114.856 11.0913 114.568 10.7451 114.215 10.4596C113.863 10.1741 113.456 9.95547 112.994 9.80363C112.539 9.65179 112.044 9.57587 111.509 9.57587C110.544 9.57587 109.703 9.81578 108.986 10.2956C108.269 10.7693 107.713 11.4617 107.319 12.3728C106.924 13.2778 106.726 14.3771 106.726 15.6708C106.726 17.0009 106.924 18.1185 107.319 19.0235C107.72 19.9284 108.278 20.6117 108.995 21.0733C109.712 21.5349 110.541 21.7657 111.482 21.7657C112.011 21.7657 112.499 21.6959 112.949 21.5562C113.404 21.4165 113.808 21.213 114.161 20.9458C114.513 20.6725 114.804 20.3414 115.035 19.9527C115.272 19.564 115.436 19.1206 115.527 18.6226L119.518 18.6408C119.414 19.4972 119.156 20.3232 118.743 21.1189C118.336 21.9085 117.787 22.616 117.094 23.2416C116.408 23.8611 115.588 24.3531 114.634 24.7175C113.687 25.0759 112.615 25.255 111.418 25.255C109.754 25.255 108.266 24.8785 106.954 24.1253C105.648 23.3722 104.616 22.282 103.857 20.8547C103.104 19.4274 102.727 17.6994 102.727 15.6708C102.727 13.6361 103.11 11.9051 103.875 10.4778C104.64 9.0505 105.679 7.96331 106.991 7.21625C108.303 6.46312 109.778 6.08655 111.418 6.08655C112.499 6.08655 113.502 6.23839 114.425 6.54207C115.354 6.84576 116.177 7.28913 116.894 7.87221C117.61 8.4492 118.194 9.15679 118.643 9.99495C119.099 10.8331 119.39 11.7928 119.518 12.8739Z",fill:"#21313C"}),e.jsx("path",{d:"M125.494 25.2642C124.601 25.2642 123.806 25.1093 123.107 24.7995C122.409 24.4837 121.856 24.0191 121.449 23.4056C121.048 22.7861 120.848 22.0147 120.848 21.0915C120.848 20.3141 120.991 19.6612 121.276 19.1328C121.562 18.6044 121.95 18.1792 122.442 17.8573C122.934 17.5354 123.493 17.2925 124.119 17.1285C124.75 16.9645 125.412 16.8491 126.105 16.7823C126.919 16.6972 127.575 16.6183 128.073 16.5454C128.571 16.4664 128.932 16.351 129.157 16.1992C129.381 16.0474 129.494 15.8226 129.494 15.525V15.4704C129.494 14.8934 129.312 14.447 128.947 14.1311C128.589 13.8153 128.079 13.6574 127.417 13.6574C126.718 13.6574 126.162 13.8123 125.749 14.122C125.336 14.4257 125.063 14.8083 124.929 15.2699L121.34 14.9784C121.522 14.1281 121.88 13.3932 122.415 12.7737C122.949 12.1481 123.639 11.6682 124.483 11.3342C125.333 10.9941 126.317 10.824 127.435 10.824C128.212 10.824 128.956 10.9151 129.667 11.0973C130.384 11.2795 131.018 11.562 131.571 11.9446C132.13 12.3272 132.57 12.8192 132.892 13.4205C133.214 14.0157 133.375 14.7294 133.375 15.5615V25H129.694V23.0594H129.585C129.36 23.4967 129.06 23.8824 128.683 24.2164C128.306 24.5444 127.854 24.8026 127.325 24.9908C126.797 25.1731 126.187 25.2642 125.494 25.2642ZM126.606 22.5857C127.177 22.5857 127.681 22.4733 128.118 22.2486C128.555 22.0178 128.899 21.708 129.148 21.3193C129.397 20.9306 129.521 20.4903 129.521 19.9983V18.5133C129.4 18.5922 129.233 18.6651 129.02 18.7319C128.814 18.7927 128.58 18.8504 128.319 18.905C128.057 18.9536 127.796 18.9992 127.535 19.0417C127.274 19.0781 127.037 19.1115 126.824 19.1419C126.369 19.2087 125.971 19.315 125.631 19.4608C125.291 19.6065 125.027 19.8039 124.838 20.0529C124.65 20.2959 124.556 20.5996 124.556 20.964C124.556 21.4924 124.747 21.8963 125.13 22.1757C125.519 22.449 126.011 22.5857 126.606 22.5857Z",fill:"#21313C"}),e.jsx("path",{d:"M135.616 25V11.0062H139.379V13.4478H139.525C139.78 12.5793 140.208 11.9233 140.809 11.48C141.411 11.0305 142.103 10.8058 142.886 10.8058C143.081 10.8058 143.29 10.8179 143.515 10.8422C143.74 10.8665 143.937 10.8999 144.107 10.9424V14.3862C143.925 14.3316 143.673 14.283 143.351 14.2404C143.029 14.1979 142.735 14.1767 142.467 14.1767C141.896 14.1767 141.386 14.3012 140.937 14.5502C140.493 14.7932 140.141 15.1333 139.88 15.5706C139.625 16.0079 139.497 16.512 139.497 17.0829V25H135.616Z",fill:"#21313C"}),e.jsx("path",{d:"M153.489 11.0062V13.9216H145.062V11.0062H153.489ZM146.975 7.65355H150.856V20.6998C150.856 21.0581 150.911 21.3375 151.02 21.538C151.129 21.7323 151.281 21.869 151.476 21.9479C151.676 22.0269 151.907 22.0664 152.168 22.0664C152.35 22.0664 152.532 22.0512 152.715 22.0208C152.897 21.9844 153.036 21.957 153.134 21.9388L153.744 24.8269C153.55 24.8876 153.276 24.9574 152.924 25.0364C152.572 25.1214 152.144 25.173 151.64 25.1913C150.704 25.2277 149.884 25.1032 149.18 24.8177C148.481 24.5323 147.938 24.0889 147.549 23.4876C147.16 22.8863 146.969 22.1271 146.975 21.21V7.65355Z",fill:"#21313C"})]});function Vs(){const a=E(),r=J(c=>c.cart),{wishlistCount:i}=J(c=>c.wishlist),t=O(),o=()=>{a("/Cart")},n=()=>{a("/Wishlist")},u=()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("wishlistIds"),b.remove("loginToken"),b.remove("rememberMe"),a("/Signin")},l=Ke(),[s,d]=R.useReducer(c=>!c,!1),[h,j]=x.useState("center");x.useEffect(()=>{const c=()=>{window.innerWidth<=1024?j("start"):j("center")},w=()=>{s&&d(!1)};return c(),window.addEventListener("resize",c),window.addEventListener("scroll",w),()=>{window.removeEventListener("resize",c),window.removeEventListener("scroll",w)}},[s]),x.useEffect(()=>{t(ee()),t(Re())},[t]);const v=["Home","Products","Categories","Brands"];return e.jsxs(ns,{className:"bg-slate-100 bg-opacity-50",maxWidth:"full",isMenuOpen:s,onMenuOpenChange:d,children:[e.jsx(V,{justify:h,children:e.jsx(is,{children:e.jsx(_,{className:"text-lg",color:"foreground",href:"/Home",children:e.jsx(Rs,{})})})}),e.jsxs(V,{className:"hidden lg:flex gap-4",justify:"center",children:[e.jsx(D,{isActive:l.pathname==="/Home",children:e.jsx(_,{className:"text-lg",color:"foreground",href:"/Home",children:"Home"})}),e.jsx(D,{isActive:l.pathname==="/Products",children:e.jsx(_,{className:"text-lg",color:"foreground",href:"/Products",children:"Products"})}),e.jsx(D,{isActive:l.pathname==="/Categories",children:e.jsx(_,{className:"text-lg",color:"foreground",href:"/Categories",children:"Categories"})}),e.jsx(D,{isActive:l.pathname==="/Brands",children:e.jsx(_,{className:"text-lg",color:"foreground",href:"/Brands",children:"Brands"})})]}),e.jsxs(V,{className:"hidden sm:flex gap-4",justify:"end",children:[e.jsx("div",{className:"h-4/6",children:e.jsx(oe,{orientation:"vertical"})}),e.jsx(D,{children:e.jsx("a",{className:"text-lg focus:outline-offset-4",color:"foreground",href:"https://www.instagram.com",target:"_blank",children:e.jsx(te,{})})}),e.jsx(D,{children:e.jsx("a",{className:"text-lg focus:outline-offset-4",color:"foreground",href:"https://www.facebook.com",target:"_blank",children:e.jsx(ae,{})})}),e.jsx(D,{children:e.jsx("a",{className:"text-lg focus:outline-offset-4",color:"foreground",href:"https://www.tiktok.com",target:"_blank",children:e.jsx(re,{})})}),e.jsx(D,{children:e.jsx("a",{className:"text-lg focus:outline-offset-4",color:"foreground",href:"https://www.twitter.com",target:"_blank",children:e.jsx(le,{})})}),e.jsx(D,{children:e.jsx("a",{className:"text-lg focus:outline-offset-4",color:"foreground",href:"https://www.linkedin.com",target:"_blank",children:e.jsx(ne,{})})}),e.jsx(D,{children:e.jsx("a",{className:"text-lg focus:outline-offset-4",color:"foreground",href:"https://www.youtube.com",target:"_blank",children:e.jsx(ie,{})})}),e.jsx("div",{className:"h-4/6",children:e.jsx(oe,{orientation:"vertical"})})]}),e.jsxs(V,{justify:"center",children:[e.jsx(D,{children:e.jsx("button",{className:"focus:outline-offset-8",onClick:o,children:e.jsx(ce,{color:r?"success":"default",content:r,size:"sm",shape:"rectangle",variant:r?"shadow":"flat",showOutline:"false",children:e.jsx(ss,{className:"text-large me-2 mt-2"})})})}),e.jsx(D,{children:e.jsx("button",{className:"focus:outline-offset-8",onClick:n,children:e.jsx(ce,{color:i?"danger":"default",content:i,size:"sm",shape:"rectangle",variant:i?"shadow":"flat",showOutline:"false",children:e.jsx(ke,{className:"text-large me-2 mt-2"})})})})]}),e.jsx(V,{className:"hidden sm:flex",justify:"center",children:e.jsx(D,{children:e.jsx(k,{className:"text-medium lg-md:-me-4 text-foreground-900`",color:"danger",radius:"large",onClick:u,variant:"light",children:"Sign Out"})})}),e.jsx(V,{justify:"center",children:e.jsx(os,{"aria-label":s?"Close menu":"Open menu",className:"h-10 lg-md:hidden"})}),e.jsxs(cs,{className:"bg-slate-100 bg-opacity-50 overflow-y-hidden",children:[v.map((c,w)=>e.jsx(I,{isActive:l.pathname===`/${c}`,children:e.jsx(_,{color:"foreground",className:"w-full",href:`/${c}`,size:"lg",onPress:()=>d(),children:c})},`${c}-${w}`)),e.jsxs("ul",{className:"flex flex-wrap gap-4",children:[e.jsx(I,{className:"me-auto hidden max-sm:flex",children:e.jsx("button",{className:"w-full text-danger-500",onClick:u,size:"lg",children:"Sign Out"})}),e.jsxs("ul",{className:"hidden max-sm:flex gap-4",children:[e.jsx(I,{className:"flex items-center",children:e.jsx("a",{color:"foreground",href:"https://www.instagram.com",target:"_blank",children:e.jsx(te,{})})}),e.jsx(I,{className:"flex items-center",children:e.jsx("a",{color:"foreground",href:"https://www.facebook.com",target:"_blank",children:e.jsx(ae,{})})}),e.jsx(I,{className:"flex items-center",children:e.jsx("a",{color:"foreground",href:"https://www.tiktok.com",target:"_blank",children:e.jsx(re,{})})}),e.jsx(I,{className:"flex items-center",children:e.jsx("a",{color:"foreground",href:"https://www.twitter.com",target:"_blank",children:e.jsx(le,{})})}),e.jsx(I,{className:"flex items-center",children:e.jsx("a",{color:"foreground",href:"https://www.linkedin.com",target:"_blank",children:e.jsx(ne,{})})}),e.jsx(I,{className:"flex items-center",children:e.jsx("a",{color:"foreground",href:"https://www.youtube.com",target:"_blank",children:e.jsx(ie,{})})})]})]})]})]})}const H="/FreshCart/assets/freshcart-logo-CC9Ez4_E.svg";function Os(){return e.jsx("footer",{className:"bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"mx-auto w-full p-6 py-6 lg:py-8",children:[e.jsxs("div",{className:"md:flex md:justify-between",children:[e.jsx("div",{className:"mb-6 md:mb-0",children:e.jsx("a",{href:"/",className:"flex items-center",children:e.jsx("img",{src:H,className:"h-8 me-3",alt:"FlowBite Logo"})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 sm:gap-6 sm:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mb-6 text-sm font-semibold text-gray-900 uppercase dark:text-white",children:"Resources"}),e.jsxs("ul",{className:"text-gray-500 dark:text-gray-400 font-medium",children:[e.jsx("li",{className:"mb-4",children:e.jsx("a",{href:"https://Facebook.com/",className:"hover:underline",children:"Facebook"})}),e.jsx("li",{children:e.jsx("a",{href:"https://Youtube.com/",className:"hover:underline",children:"Youtube"})})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"mb-6 text-sm font-semibold text-gray-900 uppercase dark:text-white",children:"Follow us"}),e.jsxs("ul",{className:"text-gray-500 dark:text-gray-400 font-medium",children:[e.jsx("li",{className:"mb-4",children:e.jsx("a",{href:"https://github.com/themesberg/flowbite",className:"hover:underline ",children:"Github"})}),e.jsx("li",{children:e.jsx("a",{href:"https://discord.gg/4eeurUVvTy",className:"hover:underline",children:"Discord"})})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"mb-6 text-sm font-semibold text-gray-900 uppercase dark:text-white",children:"Legal"}),e.jsxs("ul",{className:"text-gray-500 dark:text-gray-400 font-medium",children:[e.jsx("li",{className:"mb-4",children:e.jsx("a",{href:"#",className:"hover:underline",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:underline",children:"Terms & Conditions"})})]})]})]})]}),e.jsx("hr",{className:"my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8"}),e.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-500 sm:text-center dark:text-gray-400",children:["© 2024"," ",e.jsx("a",{href:"https://flowbite.com/",className:"hover:underline",children:"DevBasem™"}),". All Rights Reserved."]}),e.jsxs("div",{className:"flex mt-4 sm:justify-center sm:mt-0",children:[e.jsxs("a",{href:"#",className:"text-gray-500 hover:text-gray-900 dark:hover:text-white",children:[e.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 8 19",children:e.jsx("path",{fillRule:"evenodd",d:"M6.135 3H8V0H6.135a4.147 4.147 0 0 0-4.142 4.142V6H0v3h2v9.938h3V9h2.021l.592-3H5V3.591A.6.6 0 0 1 5.592 3h.543Z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"Facebook page"})]}),e.jsxs("a",{href:"#",className:"text-gray-500 hover:text-gray-900 dark:hover:text-white ms-5",children:[e.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 21 16",children:e.jsx("path",{d:"M16.942 1.556a16.3 16.3 0 0 0-4.126-1.3 12.04 12.04 0 0 0-.529 1.1 15.175 15.175 0 0 0-4.573 0 11.585 11.585 0 0 0-.535-1.1 16.274 16.274 0 0 0-4.129 1.3A17.392 17.392 0 0 0 .182 13.218a15.785 15.785 0 0 0 4.963 2.521c.41-.564.773-1.16 1.084-1.785a10.63 10.63 0 0 1-1.706-.83c.143-.106.283-.217.418-.33a11.664 11.664 0 0 0 10.118 0c.137.113.277.224.418.33-.544.328-1.116.606-1.71.832a12.52 12.52 0 0 0 1.084 1.785 16.46 16.46 0 0 0 5.064-2.595 17.286 17.286 0 0 0-2.973-11.59ZM6.678 10.813a1.941 1.941 0 0 1-1.8-2.045 1.93 1.93 0 0 1 1.8-2.047 1.919 1.919 0 0 1 1.8 2.047 1.93 1.93 0 0 1-1.8 2.045Zm6.644 0a1.94 1.94 0 0 1-1.8-2.045 1.93 1.93 0 0 1 1.8-2.047 1.918 1.918 0 0 1 1.8 2.047 1.93 1.93 0 0 1-1.8 2.045Z"})}),e.jsx("span",{className:"sr-only",children:"Discord community"})]}),e.jsxs("a",{href:"#",className:"text-gray-500 hover:text-gray-900 dark:hover:text-white ms-5",children:[e.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 17",children:e.jsx("path",{fillRule:"evenodd",d:"M20 1.892a8.178 8.178 0 0 1-2.355.635 4.074 4.074 0 0 0 1.8-2.235 8.344 8.344 0 0 1-2.605.98A4.13 4.13 0 0 0 13.85 0a4.068 4.068 0 0 0-4.1 4.038 4 4 0 0 0 .105.919A11.705 11.705 0 0 1 1.4.734a4.006 4.006 0 0 0 1.268 5.392 4.165 4.165 0 0 1-1.859-.5v.05A4.057 4.057 0 0 0 4.1 9.635a4.19 4.19 0 0 1-1.856.07 4.108 4.108 0 0 0 3.831 2.807A8.36 8.36 0 0 1 0 14.184 11.732 11.732 0 0 0 6.291 16 11.502 11.502 0 0 0 17.964 4.5c0-.177 0-.35-.012-.523A8.143 8.143 0 0 0 20 1.892Z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"Twitter page"})]}),e.jsxs("a",{href:"#",className:"text-gray-500 hover:text-gray-900 dark:hover:text-white ms-5",children:[e.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 .333A9.911 9.911 0 0 0 6.866 19.65c.5.092.678-.215.678-.477 0-.237-.01-1.017-.014-1.845-2.757.6-3.338-1.169-3.338-1.169a2.627 2.627 0 0 0-1.1-1.451c-.9-.615.07-.6.07-.6a2.084 2.084 0 0 1 1.518 1.021 2.11 2.11 0 0 0 2.884.823c.044-.503.268-.973.63-1.325-2.2-.25-4.516-1.1-4.516-4.9A3.832 3.832 0 0 1 4.7 7.068a3.56 3.56 0 0 1 .095-2.623s.832-.266 2.726 1.016a9.409 9.409 0 0 1 4.962 0c1.89-1.282 2.717-1.016 2.717-1.016.366.83.402 1.768.1 2.623a3.827 3.827 0 0 1 1.02 2.659c0 3.807-2.319 4.644-4.525 4.889a2.366 2.366 0 0 1 .673 1.834c0 1.326-.012 2.394-.012 2.72 0 .263.18.572.681.475A9.911 9.911 0 0 0 10 .333Z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"GitHub account"})]}),e.jsxs("a",{href:"#",className:"text-gray-500 hover:text-gray-900 dark:hover:text-white ms-5",children:[e.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 0a10 10 0 1 0 10 10A10.009 10.009 0 0 0 10 0Zm6.613 4.614a8.523 8.523 0 0 1 1.93 5.32 20.094 20.094 0 0 0-5.949-.274c-.059-.149-.122-.292-.184-.441a23.879 23.879 0 0 0-.566-1.239 11.41 11.41 0 0 0 4.769-3.366ZM8 1.707a8.821 8.821 0 0 1 2-.238 8.5 8.5 0 0 1 5.664 2.152 9.608 9.608 0 0 1-4.476 3.087A45.758 45.758 0 0 0 8 1.707ZM1.642 8.262a8.57 8.57 0 0 1 4.73-5.981A53.998 53.998 0 0 1 9.54 7.222a32.078 32.078 0 0 1-7.9 1.04h.002Zm2.01 7.46a8.51 8.51 0 0 1-2.2-5.707v-.262a31.64 31.64 0 0 0 8.777-1.219c.243.477.477.964.692 1.449-.114.032-.227.067-.336.1a13.569 13.569 0 0 0-6.942 5.636l.009.003ZM10 18.556a8.508 8.508 0 0 1-5.243-1.8 11.717 11.717 0 0 1 6.7-5.332.509.509 0 0 1 .055-.02 35.65 35.65 0 0 1 1.819 6.476 8.476 8.476 0 0 1-3.331.676Zm4.772-1.462A37.232 37.232 0 0 0 13.113 11a12.513 12.513 0 0 1 5.321.364 8.56 8.56 0 0 1-3.66 5.73h-.002Z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"Dribbble account"})]})]})]})]})})}function Zs(){return e.jsxs(e.Fragment,{children:[e.jsx(Vs,{}),e.jsx("div",{className:"bottom-16 rounded-full translate-x-1/2"}),e.jsx(Ye,{position:"bottom-center",richColors:!0}),e.jsx(Ne,{}),e.jsx(Os,{})]})}const Hs="/FreshCart/assets/banner1-Byt2-_T5.jpeg",Ws="/FreshCart/assets/banner2-BNSAL9G-.jpeg",ge="/FreshCart/assets/slide1-Dh9d2U6G.jpeg",zs="/FreshCart/assets/slide2-Xt88XJy9.jpeg",$s="/FreshCart/assets/slide3-BtMvVf4V.jpeg";function qs(){let a={adaptiveHeight:!1,dots:!0,infinite:!0,speed:400,slidesToShow:1,slidesToScroll:1,arrows:!1,autoplay:!0,slidesPerRow:1};return e.jsxs(Te,{...a,children:[e.jsx("div",{className:"!flex",children:e.jsx("img",{className:"h-60 w-full !object-cover",src:Ws,alt:""})}),e.jsx("div",{className:"!flex",children:e.jsx("img",{className:"h-60 w-full !object-cover",src:Hs,alt:""})}),e.jsx("div",{className:"!flex",children:e.jsx("img",{className:"h-60 w-full !object-cover",src:ge,alt:""})}),e.jsx("div",{className:"!flex",children:e.jsx("img",{className:"h-60 w-full !object-cover",src:zs,alt:""})}),e.jsx("div",{className:"!flex",children:e.jsx("img",{className:"h-60 w-full !object-cover",src:$s,alt:""})}),e.jsx("div",{className:"!flex",children:e.jsx("img",{className:"h-60 w-full !object-cover",src:ge,alt:""})})]})}function Oe({categoryTitle:a,categoryImage:r}){return e.jsx("div",{className:"categorie w-fit flex gap-6 flex-col items-center",children:e.jsxs(Q,{className:"py-4 mx-2 my-2 hover:transition-all hover:shadow-2xl",children:[e.jsx(Y,{className:"pb-0 pt-2 px-4 flex-col items-start",children:e.jsx("h2",{className:"font-bold text-base",children:a})}),e.jsx(X,{className:"overflow-visible py-2",children:e.jsx($,{alt:a,className:"z-0 w-full h-full object-cover aspect-ratio-img rounded-xl",src:r})})]})})}function Gs(){const a={slidesToShow:5,slidesToScroll:5,infinite:!0,arrows:!1,autoplay:!0,mobileFirst:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:685,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:350,settings:{slidesToShow:1,slidesToScroll:1}}]};async function r(){try{const t=await fetch("https://ecommerce.routemisr.com/api/v1/categories",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Failed to fetch data: ${t.status}`);const o=await t.json();return console.log(o),o.data}catch(t){throw console.error("Failed to fetch data:",t.message),t}}const{data:i}=q("allCategories",r);return e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"px-6 w-fit",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Today's Popular Categories"}),e.jsx("div",{className:"title-bar mt-1"})]}),e.jsx(Te,{className:"mt-4",...a,children:i==null?void 0:i.map(t=>e.jsx("div",{className:"!flex justify-center",children:e.jsx(Oe,{categoryTitle:t.name,categoryImage:t.image,categoryId:t._id})},t._id))})]})}function Us({productTitle:a,productBrand:r,productPrice:i,productRating:t,productSold:o,productImage:n,ProductId:u}){const l=O(),[s,d]=x.useState(!1),[h,j]=x.useState(!1),[v,c]=x.useState(!1),{loading:w}=J(C=>C.wishlist),S=(C,T)=>{const U=C.split(" ");return U.length>T?U.slice(0,T).join(" ")+"...":C},M=async C=>{d(!0);try{await l(Fe(C))}finally{d(!1)}},y=async C=>{j(!0);try{await l(Ms(C)),c(!0)}finally{j(!1)}};return x.useEffect(()=>{if(!w){console.log(w);const C=JSON.parse(localStorage.getItem("wishlistIds"))||[];c(C.includes(u))}},[u,w]),e.jsx(e.Fragment,{children:e.jsxs(Q,{className:"py-4 hover:transition-all hover:shadow-2xl",children:[e.jsxs(Y,{className:"pb-0 pt-2 px-4 flex-col items-start",children:[e.jsx("p",{className:"text-tiny uppercase font-bold",children:r}),e.jsxs("small",{className:"text-default-500",children:[o," sold"]}),e.jsx("h4",{className:"font-bold text-large",children:S(a,3)}),e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("div",{children:e.jsxs("p",{className:"font-medium",children:[i," EGP"]})}),e.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[e.jsx("p",{children:t}),e.jsx(Se,{className:"text-yellow-400"})]})]})]}),e.jsx(ye,{to:"/Product_details/"+u,children:e.jsx(X,{className:"overflow-visible py-2",children:e.jsx($,{alt:"Card background",className:"z-0 object-contain aspect-ratio-img rounded-xl",src:n})})}),e.jsxs(Le,{children:[e.jsx(k,{radius:"full",size:"lg",fullWidth:!0,className:"font-medium",onClick:()=>M(u),isLoading:s,children:s?"Processing":"Add to Cart"}),e.jsx(ds,{x:2}),e.jsx(k,{radius:"full",size:"lg",className:"font-medium",onClick:()=>y(u),isLoading:h,isIconOnly:!0,color:v?"danger":"default",children:e.jsx(ke,{})})]})]})})}const Js="/FreshCart/assets/test1-rhAR6Q8B.jpeg";function Qs(){return e.jsx(e.Fragment,{children:e.jsxs(Q,{className:"py-4 w-fit hover:transition-all hover:shadow-2xl",children:[e.jsxs(Y,{className:"pb-0 pt-2 px-4 flex-col items-start",children:[e.jsx(F,{className:"rounded-lg mb-1",children:e.jsx("p",{className:"text-tiny uppercase font-bold",children:"DEFACTO"})}),e.jsx(F,{className:"rounded-lg mb-1",children:e.jsx("small",{className:"text-default-500",children:"4871 sold"})}),e.jsx(F,{className:"rounded-lg mb-1",children:e.jsx("h4",{className:"font-bold text-large",children:"Woman Shawl"})}),e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx(F,{className:"rounded-lg mb-1",children:e.jsx("div",{children:e.jsx("p",{className:"font-medium",children:"149 EGP"})})}),e.jsx(F,{className:"rounded-lg mb-1",children:e.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[e.jsx("p",{children:"4.8"}),e.jsx(Se,{className:"text-yellow-400"})]})})]})]}),e.jsx(X,{className:"overflow-visible py-2",children:e.jsx(F,{className:"rounded-lg mb-1",children:e.jsx($,{alt:"Card background",className:"object-contain rounded-xl",src:Js})})}),e.jsx(Le,{children:e.jsx(F,{className:"rounded-lg mb-1",children:e.jsx(k,{radius:"full",size:"lg",fullWidth:!0,className:"font-medium",children:"Add to Cart"})})})]})})}function Ze(){async function a(){try{const t=await fetch("https://ecommerce.routemisr.com/api/v1/products",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Failed to fetch data: ${t.status}`);return(await t.json()).data}catch(t){throw console.error("Failed to fetch data:",t.message),t}}const{data:r,isLoading:i}=q("allProducts",a);return e.jsxs("div",{className:"py-8",children:[e.jsxs("div",{className:"px-6 w-fit mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"All Products"}),e.jsx("div",{className:"title-bar__products mt-1"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 px-6 sm:grid-cols-3 lg-md:grid-cols-4",children:i?Array.from({length:10}).map((t,o)=>e.jsx(Qs,{},o)):r.map(t=>e.jsx(Us,{productTitle:t.title,productBrand:t.brand.name,productSold:t.sold,productPrice:t.price,productRating:t.ratingsAverage,productImage:t.imageCover,ProductId:t._id},t._id))})]})}function W(){x.useEffect(()=>(window.scrollTo(0,0),()=>{window.scrollTo(0,0)}),[])}function fe(){return W(),e.jsxs(e.Fragment,{children:[e.jsx(qs,{}),e.jsx(Gs,{}),e.jsx(Ze,{})]})}function G(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex justify-center items-center h-[90vh]",children:e.jsxs("div",{className:"relative inline-flex",children:[e.jsx("div",{className:"w-8 h-8 bg-slate-500 rounded-full"}),e.jsx("div",{className:"w-8 h-8 bg-slate-500 rounded-full absolute top-0 left-0 animate-ping"}),e.jsx("div",{className:"w-8 h-8 bg-slate-500 rounded-full absolute top-0 left-0 animate-pulse"})]})})})}function Ys(){const a=O(),r=E(),[i,t]=x.useState(""),[o,n]=x.useState([]),[u,l]=x.useState(""),[s,d]=x.useState(!1),[h,j]=x.useState(!1),[v,c]=x.useState(0),[w,S]=x.useState(0),[M,y]=x.useState(0);async function C(){d(!0);try{const m=await fetch("https://ecommerce.routemisr.com/api/v1/cart",{method:"GET",headers:{"Content-Type":"application/json",token:b.get("loginToken")}});if(m.ok){const f=await m.json();if(f.status==="success"){console.log(f.data);const g=f.data.products.map(p=>({id:p.product.id,name:p.product.title,href:"#",price:p.price,count:p.count,inStock:!0,imageSrc:p.product.imageCover,imageAlt:p.product.title}));n(g),l(f.data.totalCartPrice),c(f.data.totalCartPrice*7/100),S(f.data.totalCartPrice*4/100),y(f.data.totalCartPrice*2/100),t(f.data._id)}}else{const f=await m.json();console.log(f)}}catch(m){console.error("failed(network):",m.message)}finally{d(!1)}}async function T(m,f){n(g=>g.map(p=>p.id===m?{...p,incrementLoading:!0}:p));try{const g=f+1,p=await fetch(`https://ecommerce.routemisr.com/api/v1/cart/${m}`,{method:"PUT",headers:{"Content-Type":"application/json",token:b.get("loginToken")},body:JSON.stringify({count:g})});if(p.ok){const N=await p.json();if(N.status==="success"){const z=N.data.products.map(A=>({id:A.product.id,name:A.product.title,href:"#",price:A.price,count:A.count,inStock:!0,imageSrc:A.product.imageCover,imageAlt:A.product.title}));n(z),n(z),l(N.data.totalCartPrice),c(N.data.totalCartPrice*7/100),S(N.data.totalCartPrice*4/100),y(N.data.totalCartPrice*2/100)}}else{const N=await p.json();console.log(N)}}catch(g){console.error("failed(network):",g.message)}finally{n(g=>g.map(p=>p.id===m?{...p,incrementLoading:!1}:p))}}async function U(m,f){n(g=>g.map(p=>p.id===m?{...p,decrementLoading:!0}:p));try{let g=f;f>1&&(g=f-1);const p=await fetch(`https://ecommerce.routemisr.com/api/v1/cart/${m}`,{method:"PUT",headers:{"Content-Type":"application/json",token:b.get("loginToken")},body:JSON.stringify({count:g})});if(p.ok){const N=await p.json();if(N.status==="success"){const z=N.data.products.map(A=>({id:A.product.id,name:A.product.title,href:"#",price:A.price,count:A.count,inStock:!0,imageSrc:A.product.imageCover,imageAlt:A.product.title}));n(z),n(z),l(N.data.totalCartPrice),c(N.data.totalCartPrice*7/100),S(N.data.totalCartPrice*4/100),y(N.data.totalCartPrice*2/100)}}else{const N=await p.json();console.log(N)}}catch(g){console.error("failed(network):",g.message)}finally{n(g=>g.map(p=>p.id===m?{...p,decrementLoading:!1}:p))}}async function He(m){n(f=>f.map(g=>g.id===m?{...g,removeProductLoading:!0}:g));try{const f=await fetch(`https://ecommerce.routemisr.com/api/v1/cart/${m}`,{method:"DELETE",headers:{"Content-Type":"application/json",token:b.get("loginToken")}});if(f.ok){const g=await f.json();if(g.status==="success"){const p=g.data.products.map(N=>({id:N.product.id,name:N.product.title,href:"#",price:N.price,count:N.count,inStock:!0,imageSrc:N.product.imageCover,imageAlt:N.product.title}));n(p),a(ee()),n(p),l(g.data.totalCartPrice),c(g.data.totalCartPrice*7/100),S(g.data.totalCartPrice*4/100),y(g.data.totalCartPrice*2/100)}}else{const g=await f.json();console.log(g)}}catch(f){console.error("failed(network):",f.message)}finally{n(f=>f.map(g=>g.id===m?{...g,removeProductLoading:!1}:g))}}async function We(){j(!0);try{const m=await fetch("https://ecommerce.routemisr.com/api/v1/cart",{method:"DELETE",headers:{"Content-Type":"application/json",token:b.get("loginToken")}});if(m.ok){const f=await m.json();if(f.message==="success"){console.log(f.data);const g=[];n(g),a(ee()),n(g),l(0),c(0),S(0),y(0)}}else{const f=await m.json();console.log(f)}}catch(m){console.error("failed(network):",m.message)}finally{j(!1)}}if(x.useEffect(()=>{C()},[]),s)return e.jsx(G,{});function ze(m){r("/Address/"+m)}return e.jsx("div",{className:"bg-white",children:e.jsxs("div",{className:"mx-auto max-w-2xl px-4 pb-24 pt-16 sm:px-6 lg:max-w-7xl lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:"Shopping Cart"}),o.length>0?e.jsxs(k,{size:"md",color:"danger",radius:"lg",variant:"flat",endContent:e.jsx(ts,{className:"h-5 w-5","aria-hidden":"true"}),onClick:()=>We(),isLoading:h,children:[e.jsx("span",{className:"sr-only",children:"Remove"}),"Remove All"]}):""]}),e.jsxs("form",{className:"mt-12 lg:grid lg:grid-cols-12 lg:items-start lg:gap-x-12 xl:gap-x-16",children:[e.jsxs("section",{"aria-labelledby":"cart-heading",className:"lg:col-span-7",children:[e.jsx("h2",{id:"cart-heading",className:"sr-only",children:"Items in your shopping cart"}),e.jsxs("ul",{role:"list",className:"divide-y divide-gray-200 border-b border-t border-gray-200",children:[o.length===0?e.jsx("div",{className:"h-[57vh] grid place-content-center",children:e.jsxs("p",{className:"font-medium text-2xl text-gray-500 flex gap-2 items-center",children:[e.jsx("span",{children:"Cart is empty"}),e.jsx(Pe,{className:"text-4xl"})]})}):"",o.map((m,f)=>e.jsxs("li",{className:"flex py-6 sm:py-10",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:m.imageSrc,alt:m.imageAlt,className:"h-24 w-24 rounded-md object-contain object-center sm:h-48 sm:w-48"})}),e.jsxs("div",{className:"ml-4 flex flex-1 flex-col justify-between sm:ml-6",children:[e.jsxs("div",{className:"relative pr-9 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:pr-0",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("h3",{className:"text-sm",children:e.jsx("a",{href:m.href,className:"font-medium text-gray-700 hover:text-gray-800",children:m.name})})}),e.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.price})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 sm:pr-9",children:[e.jsxs("label",{htmlFor:`quantity-${f}`,className:"sr-only",children:["Quantity, ",m.name]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{size:"sm",radius:"lg",variant:"ghost",isIconOnly:!0,onClick:()=>T(m.id,m.count),isLoading:m.incrementLoading,children:e.jsx(as,{className:"opacity-70"})}),e.jsx(k,{size:"sm",radius:"lg",variant:m.count===1?"flat":"ghost",isIconOnly:!0,isDisabled:m.count===1,onClick:()=>U(m.id,m.count),isLoading:m.decrementLoading,children:e.jsx(rs,{className:"opacity-70"})}),e.jsx("div",{className:"bg-default-200 px-3 py-1 rounded-xl",children:e.jsx("p",{children:m.count})})]}),e.jsx("div",{className:"absolute right-0 top-0",children:e.jsxs(k,{size:"sm",radius:"lg",variant:"ghost",color:m.removeProductLoading?"danger":"default",isIconOnly:!0,onClick:()=>He(m.id),isLoading:m.removeProductLoading,children:[e.jsx("span",{className:"sr-only",children:"Remove"}),e.jsx(Me,{className:"h-5 w-5","aria-hidden":"true"})]})})]})]}),e.jsxs("p",{className:"mt-4 flex space-x-2 text-sm text-gray-700",children:[m.inStock?e.jsx(Ae,{className:"h-5 w-5 flex-shrink-0 text-green-500","aria-hidden":"true"}):e.jsx(De,{className:"h-5 w-5 flex-shrink-0 text-gray-300","aria-hidden":"true"}),e.jsx("span",{children:m.inStock?"In stock":`Ships in ${m.leadTime}`})]})]})]},m.id))]})]}),e.jsxs("section",{"aria-labelledby":"summary-heading",className:"sticky top-20 mt-16 rounded-lg bg-gray-50 px-4 py-6 sm:p-6 lg:col-span-5 lg:mt-0 lg:p-8",children:[e.jsx("h2",{id:"summary-heading",className:"text-lg font-medium text-gray-900",children:"Order summary"}),e.jsxs("dl",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Subtotal"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:`${v} EGP`})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[e.jsxs("dt",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("span",{children:"Shipping estimate"}),e.jsxs("a",{href:"#",className:"ml-2 flex-shrink-0 text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"Learn more about how shipping is calculated"}),e.jsx(de,{className:"h-5 w-5","aria-hidden":"true"})]})]}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:`${w} EGP`})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[e.jsxs("dt",{className:"flex text-sm text-gray-600",children:[e.jsx("span",{children:"Tax estimate"}),e.jsxs("a",{href:"#",className:"ml-2 flex-shrink-0 text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"Learn more about how tax is calculated"}),e.jsx(de,{className:"h-5 w-5","aria-hidden":"true"})]})]}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:`${M} EGP`})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[e.jsx("dt",{className:"text-base font-medium text-gray-900",children:"Order total"}),e.jsx("dd",{className:"text-base font-medium text-gray-900",children:`${u} EGP`})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(k,{radius:"full",size:"lg",fullWidth:!0,className:"font-medium",onClick:()=>ze(i),children:"Checkout"})})]})]})]})})}function Xs(){return W(),e.jsx(Ys,{})}function Ks(){const a=O(),[r,i]=x.useState([]),[t,o]=x.useState(!1);async function n(){try{o(!0);const l=await fetch("https://ecommerce.routemisr.com/api/v1/wishlist",{method:"GET",headers:{"Content-Type":"application/json",token:b.get("loginToken")}});if(l.ok){const s=await l.json();if(s.status==="success"){const d=s.data.map(h=>({id:h.id,name:h.title,href:"#",price:h.price,count:h.count,inStock:!0,imageSrc:h.imageCover,imageAlt:h.title}));i(d)}}else{const s=await l.json();console.log(s)}}catch(l){console.error("failed(network):",l.message)}finally{o(!1)}}async function u(l){i(s=>s.map(d=>d.id===l?{...d,removeProductLoading:!0}:d));try{const s=await fetch(`https://ecommerce.routemisr.com/api/v1/wishlist/${l}`,{method:"DELETE",headers:{"Content-Type":"application/json",token:b.get("loginToken")}});if(s.ok){const d=await s.json();if(d.status==="success"){const h=d.data;i(j=>j.filter(v=>h.includes(v.id))),a(Re())}}else{const d=await s.json();console.log(d)}}catch(s){console.error("failed(network):",s.message)}finally{i(s=>s.map(d=>d.id===l?{...d,removeProductLoading:!1}:d))}}return x.useEffect(()=>{n()},[]),t?e.jsx(G,{}):e.jsx("div",{className:"bg-white",children:e.jsxs("div",{className:"mx-auto max-w-2xl px-4 pb-24 pt-16 sm:px-6 lg:max-w-7xl lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:"WishList"}),e.jsx("form",{className:"mt-12 lg:grid lg:grid-cols-12 lg:items-start lg:gap-x-12 xl:gap-x-16",children:e.jsxs("section",{"aria-labelledby":"cart-heading",className:"lg:col-span-7",children:[e.jsx("h2",{id:"cart-heading",className:"sr-only",children:"Items in your Wish List"}),e.jsxs("ul",{role:"list",className:"divide-y divide-gray-200 border-b border-t border-gray-200",children:[r.length===0?e.jsx("div",{className:"h-[57vh] grid place-content-center",children:e.jsxs("p",{className:"font-medium text-2xl text-gray-500 flex gap-2 items-center",children:[e.jsx("span",{children:"WishList is empty"}),e.jsx(Pe,{className:"text-4xl"})]})}):"",r.map((l,s)=>e.jsxs("li",{className:"flex py-6 sm:py-10",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:l.imageSrc,alt:l.imageAlt,className:"h-24 w-24 rounded-md object-contain object-center sm:h-48 sm:w-48"})}),e.jsxs("div",{className:"ml-4 flex flex-1 flex-col justify-between sm:ml-6",children:[e.jsxs("div",{className:"relative pr-9 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:pr-0",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("h3",{className:"text-sm",children:e.jsx("a",{href:l.href,className:"font-medium text-gray-700 hover:text-gray-800",children:l.name})})}),e.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:l.price})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 sm:pr-9",children:[e.jsxs("label",{htmlFor:`quantity-${s}`,className:"sr-only",children:["Quantity, ",l.name]}),e.jsx("div",{className:"absolute right-0 top-0",children:e.jsxs(k,{size:"sm",radius:"lg",variant:"ghost",color:l.removeProductLoading?"danger":"default",isIconOnly:!0,onClick:()=>u(l.id),isLoading:l.removeProductLoading,children:[e.jsx("span",{className:"sr-only",children:"Remove"}),e.jsx(Me,{className:"h-5 w-5","aria-hidden":"true"})]})})]})]}),e.jsxs("p",{className:"mt-4 flex space-x-2 text-sm text-gray-700",children:[l.inStock?e.jsx(Ae,{className:"h-5 w-5 flex-shrink-0 text-green-500","aria-hidden":"true"}):e.jsx(De,{className:"h-5 w-5 flex-shrink-0 text-gray-300","aria-hidden":"true"}),e.jsx("span",{children:l.inStock?"In stock":`Ships in ${l.leadTime}`})]})]})]},l.id))]})]})})]})})}function et(){return W(),e.jsx(e.Fragment,{children:e.jsx(Ks,{})})}function st(){return W(),e.jsx(e.Fragment,{children:e.jsx(Ze,{})})}const tt=a=>e.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...a,children:[e.jsx("path",{d:"M11.5 21C16.7467 21 21 16.7467 21 11.5C21 6.25329 16.7467 2 11.5 2C6.25329 2 2 6.25329 2 11.5C2 16.7467 6.25329 21 11.5 21Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),e.jsx("path",{d:"M22 22L20 20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]});function at(){const[a,r]=x.useState("");async function i(){try{const l=await fetch("https://ecommerce.routemisr.com/api/v1/categories",{method:"GET",headers:{"Content-Type":"application/json"}});if(!l.ok)throw new Error(`Failed to fetch data: ${l.status}`);const s=await l.json();return console.log(s),s.data}catch(l){throw console.error("Failed to fetch data:",l.message),l}}const{data:t,isLoading:o}=q("allCategories",i),n=l=>{r(l.target.value)},u=t?t.filter(l=>l.name.toLowerCase().includes(a.toLowerCase())):[];return o?e.jsx(G,{}):e.jsx("div",{children:e.jsxs("div",{className:"py-8",children:[e.jsxs("div",{className:"px-6 mb-8 flex justify-between flex-wrap-reverse gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"All Categories"}),e.jsx("div",{className:"title-bar__products mt-1"})]}),e.jsx("div",{className:"w-80",children:e.jsx(L,{label:"Search",radius:"md",placeholder:"Type to search...",value:a,onChange:n,startContent:e.jsx(tt,{className:"text-black/50 mb-0.5 dark:text-white/90 text-slate-400 pointer-events-none flex-shrink-0"})})})]}),u.length===0&&!o?e.jsx("div",{className:"h-[30vh] grid place-content-center",children:e.jsx("p",{className:"font-medium text-2xl text-gray-500",children:e.jsx("span",{children:"Category Not Found"})})}):"",e.jsx("div",{className:"grid grid-cols-1 gap-4 px-6 sm:grid-cols-3 lg-md:grid-cols-4",children:u.map(l=>e.jsx(Oe,{categoryTitle:l.name,categoryImage:l.image,categoryId:l._id},l._id))})]})})}function rt(){return W(),e.jsx("div",{children:e.jsx(at,{})})}function lt({brandName:a,brandImage:r}){const{isOpen:i,onOpen:t,onOpenChange:o}=ms();return e.jsxs(e.Fragment,{children:[e.jsxs(Q,{className:"py-4 hover:transition-all hover:shadow-2xl",children:[e.jsx(Y,{className:"pb-0 pt-2 px-4 flex-col items-start",children:e.jsx("h2",{className:"font-bold text-large",children:a})}),e.jsx("button",{onClick:t,children:e.jsx(X,{className:"overflow-visible h-full py-2",children:e.jsx($,{alt:"Card background",className:"z-0 object-contain rounded-xl",src:r})})})]}),e.jsx(hs,{isOpen:i,onOpenChange:o,children:e.jsx(xs,{children:n=>e.jsxs(e.Fragment,{children:[e.jsx(us,{className:"flex flex-col gap-1",children:a}),e.jsxs(gs,{children:[e.jsx("div",{className:"flex justify-center",children:e.jsx($,{alt:"Card background",className:"z-0 object-contain rounded-xl",src:r})}),e.jsx("p",{children:"Magna exercitation reprehenderit magna aute tempor cupidatat consequat elit dolor adipisicing. Mollit dolor eiusmod sunt ex incididunt cillum quis. Velit duis sit officia eiusmod Lorem aliqua enim laboris do dolor eiusmod. Et mollit incididunt nisi consectetur esse laborum eiusmod pariatur proident Lorem eiusmod et. Culpa deserunt nostrud ad veniam."})]}),e.jsxs(fs,{children:[e.jsx(k,{color:"danger",variant:"light",onPress:n,children:"Close"}),e.jsx(k,{color:"primary",onPress:n,children:"Action"})]})]})})})]})}function nt(){async function a(){try{const t=await fetch("https://ecommerce.routemisr.com/api/v1/brands",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Failed to fetch data: ${t.status}`);const o=await t.json();return console.log(o),o.data}catch(t){throw console.error("Failed to fetch data:",t.message),t}}const{data:r,isLoading:i}=q("allBrands",a);return i?e.jsx(G,{}):e.jsxs("div",{className:"py-8",children:[e.jsxs("div",{className:"px-6 w-fit mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"All Brands"}),e.jsx("div",{className:"title-bar__products mt-1"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 px-6 sm:grid-cols-3 lg-md:grid-cols-4",children:r==null?void 0:r.map(t=>e.jsx(lt,{brandName:t.name,brandImage:t.image,brandId:t._id},t._id))})]})}function it(){return W(),e.jsx("div",{children:e.jsx(nt,{})})}function ot(){const a=be(),r=O(),[i,t]=x.useState(!1);console.log(a);async function o(){try{const c=await fetch(`https://ecommerce.routemisr.com/api/v1/products/${a.id}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!c.ok)throw new Error(`Failed to fetch data: ${c.status}`);const w=await c.json();return console.log(w),w.data}catch(c){throw console.error("Failed to fetch data:",c.message),c}}const{data:n,isLoading:u}=q("productDetails",o,{cacheTime:0});if(console.log(n),u||!n)return e.jsx(G,{});const l=[];for(let c=0;c<n.images.length;c++)l.push({id:c+2,imageSrc:n.images[c],imageAlt:"Back of women's Basic Tee in black.",primary:!1});const s=(c,w)=>{const S=c.split(" ");return S.length>w?S.slice(0,w).join(" ")+"...":c},d=async c=>{t(!0);try{await r(Fe(c))}finally{t(!1)}};console.log(l);const h={name:n.title,price:`${n.price} EGP`,rating:n.ratingsAverage,reviewCount:n.ratingsQuantity,href:"#",breadcrumbs:[{id:1,name:n.brand.name,href:"#"},{id:2,name:n.category.name,href:"#"}],images:[{id:1,imageSrc:n.imageCover,imageAlt:n.slug,primary:!0},...l],description:`
			<p>${n.description}</p>
		`,details:["Only the best materials","Ethically and locally made","Pre-washed and pre-shrunk","Machine wash cold with similar colors"]},j=[{name:"International delivery",icon:ws,description:"Get your order in 2 years"},{name:"Loyalty rewards",icon:ys,description:"Don't look at other tees"}];function v(...c){return c.filter(Boolean).join(" ")}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-white px-2",children:e.jsxs("div",{className:"pb-16 pt-6 sm:pb-24",children:[e.jsx("nav",{"aria-label":"Breadcrumb",className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e.jsxs("ol",{role:"list",className:"flex items-center space-x-4",children:[h.breadcrumbs.map(c=>e.jsx("li",{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("a",{href:c.href,className:"mr-4 text-sm font-medium text-gray-900",children:c.name}),e.jsx("svg",{viewBox:"0 0 6 20","aria-hidden":"true",className:"h-5 w-auto text-gray-300",children:e.jsx("path",{d:"M4.878 4.34H3.551L.27 16.532h1.327l3.281-12.19z",fill:"currentColor"})})]})},c.id)),e.jsx("li",{className:"text-sm",children:e.jsx("a",{href:h.href,"aria-current":"page",className:"font-medium text-gray-500 hover:text-gray-600",children:s(n.title,3)})})]})}),e.jsx("div",{className:"mx-auto mt-8 max-w-2xl px-4 sm:px-6 lg:max-w-7xl lg:px-8",children:e.jsxs("div",{className:"lg:grid lg:auto-rows-min lg:grid-cols-12 lg:gap-x-8",children:[e.jsxs("div",{className:"lg:col-span-5 lg:col-start-8",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"text-xl font-medium text-gray-900",children:h.name}),e.jsx("p",{className:"text-xl font-medium text-gray-900",children:h.price})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h2",{className:"sr-only",children:"Reviews"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:[h.rating,e.jsxs("span",{className:"sr-only",children:[" ","out of 5 stars"]})]}),e.jsx("div",{className:"ml-1 flex items-center",children:[0,1,2,3,4].map(c=>e.jsx(Cs,{className:v(h.rating>c?"text-yellow-400":"text-gray-200","h-5 w-5 flex-shrink-0"),"aria-hidden":"true"},c))}),e.jsx("div",{"aria-hidden":"true",className:"ml-4 text-sm text-gray-300",children:"·"}),e.jsx("div",{className:"ml-4 flex",children:e.jsxs("a",{href:"#",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:["See all ",h.reviewCount," ","reviews"]})})]})]})]}),e.jsxs("div",{className:"mt-8 lg:col-span-7 lg:col-start-1 lg:row-span-3 lg:row-start-1 lg:mt-0",children:[e.jsx("h2",{className:"sr-only",children:"Images"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 lg:grid-rows-3 lg:gap-8",children:h.images.map(c=>e.jsx("img",{src:c.imageSrc,alt:c.imageAlt,className:v(c.primary?"lg:col-span-2 lg:row-span-2":"hidden lg:block","rounded-lg")},c.id))})]}),e.jsxs("div",{className:"mt-8 lg:col-span-5",children:[e.jsxs("div",{className:"mt-10",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"Description"}),e.jsx("div",{className:"prose prose-sm mt-4 text-gray-500",dangerouslySetInnerHTML:{__html:h.description}})]}),e.jsxs("div",{className:"mt-8 border-t border-gray-200 pt-8",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"Fabric & Care"}),e.jsx("div",{className:"prose prose-sm mt-4 text-gray-500",children:e.jsx("ul",{role:"list",children:h.details.map(c=>e.jsx("li",{children:c},c))})})]}),e.jsx("form",{className:"mt-8",children:e.jsx(k,{radius:"full",size:"lg",fullWidth:!0,className:"font-medium",onClick:()=>d(a.id),isLoading:i,children:i?"Processing":"Add to Cart"})}),e.jsxs("section",{"aria-labelledby":"policies-heading",className:"mt-10",children:[e.jsx("h2",{id:"policies-heading",className:"sr-only",children:"Our Policies"}),e.jsx("dl",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2",children:j.map(c=>e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-6 text-center",children:[e.jsxs("dt",{children:[e.jsx(c.icon,{className:"mx-auto h-6 w-6 flex-shrink-0 text-gray-400","aria-hidden":"true"}),e.jsx("span",{className:"mt-4 text-sm font-medium text-gray-900",children:c.name})]}),e.jsx("dd",{className:"mt-1 text-sm text-gray-500",children:c.description})]},c.name))})]})]})]})})]})})})}function ct(){const[a,r]=x.useState(!1),{id:i}=be();async function t(n,u){r(!0);try{const l=await fetch(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${n}?url=https://devbasem.github.io/FreshCart/#/`,{method:"POST",headers:{"Content-Type":"application/json",token:b.get("loginToken")},body:JSON.stringify(u)});if(l.ok){const s=await l.json();console.log("Checkout successful:",s),window.location.href=s.session.url}else{const s=await l.json();console.error("Checkout failed:",s)}}catch(l){console.error("Checkout failed:",l.message)}finally{r(!1)}}const o=Z({initialValues:{details:"",phone:"",city:""},onSubmit:n=>{t(i,n)}});return e.jsx("div",{className:"form-width mx-auto min-h-[80vh] flex flex-col justify-center",children:e.jsxs("form",{onSubmit:o.handleSubmit,className:"flex flex-col gap-4 px-4 pb-8 pt-4 form-bg shadow-lg rounded-md",children:[e.jsx("div",{children:e.jsx("h2",{className:"font-medium text-2xl",children:"Enter the following details"})}),e.jsx("div",{className:"flex w-full",children:e.jsx(L,{type:"textarea",variant:"flat",label:"Address",id:"details",name:"details",value:o.values.details,onChange:o.handleChange,onBlur:o.handleBlur})}),e.jsx("div",{className:"flex w-full",children:e.jsx(L,{type:"tel",variant:"flat",label:"Phone",id:"phone",name:"phone",value:o.values.phone,onChange:o.handleChange,onBlur:o.handleBlur})}),e.jsx("div",{className:"flex w-full",children:e.jsx(L,{type:"text",variant:"flat",label:"City",id:"city",name:"city",value:o.values.city,onChange:o.handleChange,onBlur:o.handleBlur})}),e.jsx("div",{className:"flex w-full",children:e.jsx(k,{fullWidth:!0,size:"lg",color:"primary",type:"submit",isLoading:a,children:a?"Processing":"Next Step"})})]})})}function dt(){return e.jsx("div",{className:"h-screen bg-gradient-to-r from-slate-100 via-slate-300 to-green-100 background-animate",children:e.jsx(Ne,{})})}const mt=a=>e.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...a,children:[e.jsx("path",{d:"M21.25 9.14969C18.94 5.51969 15.56 3.42969 12 3.42969C10.22 3.42969 8.49 3.94969 6.91 4.91969C5.33 5.89969 3.91 7.32969 2.75 9.14969C1.75 10.7197 1.75 13.2697 2.75 14.8397C5.06 18.4797 8.44 20.5597 12 20.5597C13.78 20.5597 15.51 20.0397 17.09 19.0697C18.67 18.0897 20.09 16.6597 21.25 14.8397C22.25 13.2797 22.25 10.7197 21.25 9.14969ZM12 16.0397C9.76 16.0397 7.96 14.2297 7.96 11.9997C7.96 9.76969 9.76 7.95969 12 7.95969C14.24 7.95969 16.04 9.76969 16.04 11.9997C16.04 14.2297 14.24 16.0397 12 16.0397Z",fill:"currentColor"}),e.jsx("path",{d:"M11.9984 9.14062C10.4284 9.14062 9.14844 10.4206 9.14844 12.0006C9.14844 13.5706 10.4284 14.8506 11.9984 14.8506C13.5684 14.8506 14.8584 13.5706 14.8584 12.0006C14.8584 10.4306 13.5684 9.14062 11.9984 9.14062Z",fill:"currentColor"})]}),ht=a=>e.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...a,children:[e.jsx("path",{d:"M21.2714 9.17834C20.9814 8.71834 20.6714 8.28834 20.3514 7.88834C19.9814 7.41834 19.2814 7.37834 18.8614 7.79834L15.8614 10.7983C16.0814 11.4583 16.1214 12.2183 15.9214 13.0083C15.5714 14.4183 14.4314 15.5583 13.0214 15.9083C12.2314 16.1083 11.4714 16.0683 10.8114 15.8483C10.8114 15.8483 9.38141 17.2783 8.35141 18.3083C7.85141 18.8083 8.01141 19.6883 8.68141 19.9483C9.75141 20.3583 10.8614 20.5683 12.0014 20.5683C13.7814 20.5683 15.5114 20.0483 17.0914 19.0783C18.7014 18.0783 20.1514 16.6083 21.3214 14.7383C22.2714 13.2283 22.2214 10.6883 21.2714 9.17834Z",fill:"currentColor"}),e.jsx("path",{d:"M14.0206 9.98062L9.98062 14.0206C9.47062 13.5006 9.14062 12.7806 9.14062 12.0006C9.14062 10.4306 10.4206 9.14062 12.0006 9.14062C12.7806 9.14062 13.5006 9.47062 14.0206 9.98062Z",fill:"currentColor"}),e.jsx("path",{d:"M18.25 5.74969L14.86 9.13969C14.13 8.39969 13.12 7.95969 12 7.95969C9.76 7.95969 7.96 9.76969 7.96 11.9997C7.96 13.1197 8.41 14.1297 9.14 14.8597L5.76 18.2497H5.75C4.64 17.3497 3.62 16.1997 2.75 14.8397C1.75 13.2697 1.75 10.7197 2.75 9.14969C3.91 7.32969 5.33 5.89969 6.91 4.91969C8.49 3.95969 10.22 3.42969 12 3.42969C14.23 3.42969 16.39 4.24969 18.25 5.74969Z",fill:"currentColor"}),e.jsx("path",{d:"M14.8581 11.9981C14.8581 13.5681 13.5781 14.8581 11.9981 14.8581C11.9381 14.8581 11.8881 14.8581 11.8281 14.8381L14.8381 11.8281C14.8581 11.8881 14.8581 11.9381 14.8581 11.9981Z",fill:"currentColor"}),e.jsx("path",{d:"M21.7689 2.22891C21.4689 1.92891 20.9789 1.92891 20.6789 2.22891L2.22891 20.6889C1.92891 20.9889 1.92891 21.4789 2.22891 21.7789C2.37891 21.9189 2.56891 21.9989 2.76891 21.9989C2.96891 21.9989 3.15891 21.9189 3.30891 21.7689L21.7689 3.30891C22.0789 3.00891 22.0789 2.52891 21.7689 2.22891Z",fill:"currentColor"})]});function xt(){const a=E(),[r,i]=x.useState(""),[t,o]=x.useState(""),[n,u]=x.useState(!1),[l,s]=R.useState(!1),[d,h]=R.useState(!1),j=!!b.get("loginToken"),v=localStorage.getItem("isLoggedIn")==="true",c=x.useCallback(async y=>{try{u(!0);const C=await fetch("https://ecommerce.routemisr.com/api/v1/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(C.ok){const T=await C.json();console.log(T),i(""),o("Login Successful"),T.message==="success"&&setTimeout(()=>{a("/Home")},1e3),b.set("loginToken",T.token,{expires:7}),d&&(console.log("Setting isLoggedIn in localStorage"),localStorage.setItem("isLoggedIn","true"))}else{const T=await C.json();o(""),i(T.message)}}catch(C){console.error("Login failed(network):",C.message)}finally{u(!1)}},[a,u,i,o,d]),w=Z({initialValues:{email:"",password:""},onSubmit:y=>{c(y)}}),S=()=>{h(!d)},M=()=>s(!l);return j&&v?e.jsx(K,{to:"/Home"}):e.jsxs("div",{className:"form-width h-[90vh] flex flex-col justify-center mx-auto",children:[e.jsx("div",{className:"flex justify-center pb-4",children:e.jsx("img",{className:"h-10",src:H,alt:"logo"})}),e.jsxs("form",{onSubmit:w.handleSubmit,className:"flex flex-col gap-4 px-4 pb-8 pt-4 form-bg shadow-lg rounded-md",children:[e.jsx("div",{children:e.jsx("h2",{className:"font-medium text-2xl",children:"Sign in to your account"})}),e.jsx("div",{className:"flex w-full",children:e.jsx(L,{type:"email",variant:"flat",label:"Email",id:"email",name:"email",value:w.values.email,onChange:w.handleChange,onBlur:w.handleBlur})}),e.jsx("div",{className:"flex w-full",children:e.jsx(L,{label:"Password",variant:"flat",placeholder:"Enter your password",endContent:e.jsx("button",{className:"focus:outline-none",type:"button",onClick:M,children:l?e.jsx(ht,{className:"text-2xl text-default-400 pointer-events-none"}):e.jsx(mt,{className:"text-2xl text-default-400 pointer-events-none"})}),type:l?"text":"password",id:"password",name:"password",value:w.values.password,onChange:w.handleChange,onBlur:w.handleBlur})}),e.jsxs("div",{className:"flex w-full",children:[e.jsx(ps,{classNames:{wrapper:"border-2 border-gray-200",label:["text-blue-900 font-medium"]},isSelected:d,onValueChange:S,children:"Remember me"}),e.jsx(_,{className:"ms-auto text-blue-900 font-medium hover:underline",href:"/Forgot_password",children:"Forgot password?"})]}),t&&e.jsx("div",{className:"flex w-full",children:e.jsx("p",{className:"text-center flex-1 text-small text-success-600 rounded-full bg-success-100 py-1",children:t})}),r&&e.jsx("div",{className:"flex w-full",children:e.jsx("p",{className:"text-center flex-1 text-small text-danger-500 rounded-full bg-danger-100 py-1",children:r})}),e.jsx("div",{className:"flex w-full",children:e.jsx(k,{fullWidth:!0,size:"lg",color:"primary",type:"submit",isLoading:n,children:n?"Processing":"Sign in"})}),e.jsxs("p",{className:"text-medium text-zinc-600",children:["Don’t have an account yet?"," ",e.jsx(_,{href:"/Signup",className:"text-blue-900 font-medium hover:underline","aria-label":"Sign up",children:"Sign up"})]})]})]})}const pe=a=>e.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...a,children:[e.jsx("path",{d:"M21.25 9.14969C18.94 5.51969 15.56 3.42969 12 3.42969C10.22 3.42969 8.49 3.94969 6.91 4.91969C5.33 5.89969 3.91 7.32969 2.75 9.14969C1.75 10.7197 1.75 13.2697 2.75 14.8397C5.06 18.4797 8.44 20.5597 12 20.5597C13.78 20.5597 15.51 20.0397 17.09 19.0697C18.67 18.0897 20.09 16.6597 21.25 14.8397C22.25 13.2797 22.25 10.7197 21.25 9.14969ZM12 16.0397C9.76 16.0397 7.96 14.2297 7.96 11.9997C7.96 9.76969 9.76 7.95969 12 7.95969C14.24 7.95969 16.04 9.76969 16.04 11.9997C16.04 14.2297 14.24 16.0397 12 16.0397Z",fill:"currentColor"}),e.jsx("path",{d:"M11.9984 9.14062C10.4284 9.14062 9.14844 10.4206 9.14844 12.0006C9.14844 13.5706 10.4284 14.8506 11.9984 14.8506C13.5684 14.8506 14.8584 13.5706 14.8584 12.0006C14.8584 10.4306 13.5684 9.14062 11.9984 9.14062Z",fill:"currentColor"})]}),je=a=>e.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...a,children:[e.jsx("path",{d:"M21.2714 9.17834C20.9814 8.71834 20.6714 8.28834 20.3514 7.88834C19.9814 7.41834 19.2814 7.37834 18.8614 7.79834L15.8614 10.7983C16.0814 11.4583 16.1214 12.2183 15.9214 13.0083C15.5714 14.4183 14.4314 15.5583 13.0214 15.9083C12.2314 16.1083 11.4714 16.0683 10.8114 15.8483C10.8114 15.8483 9.38141 17.2783 8.35141 18.3083C7.85141 18.8083 8.01141 19.6883 8.68141 19.9483C9.75141 20.3583 10.8614 20.5683 12.0014 20.5683C13.7814 20.5683 15.5114 20.0483 17.0914 19.0783C18.7014 18.0783 20.1514 16.6083 21.3214 14.7383C22.2714 13.2283 22.2214 10.6883 21.2714 9.17834Z",fill:"currentColor"}),e.jsx("path",{d:"M14.0206 9.98062L9.98062 14.0206C9.47062 13.5006 9.14062 12.7806 9.14062 12.0006C9.14062 10.4306 10.4206 9.14062 12.0006 9.14062C12.7806 9.14062 13.5006 9.47062 14.0206 9.98062Z",fill:"currentColor"}),e.jsx("path",{d:"M18.25 5.74969L14.86 9.13969C14.13 8.39969 13.12 7.95969 12 7.95969C9.76 7.95969 7.96 9.76969 7.96 11.9997C7.96 13.1197 8.41 14.1297 9.14 14.8597L5.76 18.2497H5.75C4.64 17.3497 3.62 16.1997 2.75 14.8397C1.75 13.2697 1.75 10.7197 2.75 9.14969C3.91 7.32969 5.33 5.89969 6.91 4.91969C8.49 3.95969 10.22 3.42969 12 3.42969C14.23 3.42969 16.39 4.24969 18.25 5.74969Z",fill:"currentColor"}),e.jsx("path",{d:"M14.8581 11.9981C14.8581 13.5681 13.5781 14.8581 11.9981 14.8581C11.9381 14.8581 11.8881 14.8581 11.8281 14.8381L14.8381 11.8281C14.8581 11.8881 14.8581 11.9381 14.8581 11.9981Z",fill:"currentColor"}),e.jsx("path",{d:"M21.7689 2.22891C21.4689 1.92891 20.9789 1.92891 20.6789 2.22891L2.22891 20.6889C1.92891 20.9889 1.92891 21.4789 2.22891 21.7789C2.37891 21.9189 2.56891 21.9989 2.76891 21.9989C2.96891 21.9989 3.15891 21.9189 3.30891 21.7689L21.7689 3.30891C22.0789 3.00891 22.0789 2.52891 21.7689 2.22891Z",fill:"currentColor"})]});function ut(){const a=E(),[r,i]=x.useState(""),[t,o]=x.useState(""),[n,u]=x.useState(!1);async function l(M){try{u(!0);const y=await fetch("https://ecommerce.routemisr.com/api/v1/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if(y.ok){const C=await y.json();i(""),o("Registration Successful"),C.message==="success"&&setTimeout(()=>{a("/Signin")},2e3)}else{const C=await y.json();o(""),i(C.message)}}catch(y){console.error("Registration failed(network):",y.message)}finally{u(!1)}}const s=Z({initialValues:{name:"",email:"",password:"",rePassword:"",phone:""},validationSchema:d,onSubmit:M=>{l(M)}});function d(){const M=/[A-Za-z0-9._+\-']+@[A-Za-z0-9.\-]+\.[A-Za-z]{2,}/,y=/^(010|011|012|015)\d{8}$/;return new _e({name:B().min(2).max(20).required(),email:B().email().matches(M,"email must be a valid email").required(),password:B().min(6).required(),rePassword:B().oneOf([Ie("password")],"Oops! The passwords you entered don't match. Please try again.").required(),phone:B().matches(y).required()})}const[h,j]=R.useState(!1),[v,c]=R.useState(!1),w=()=>j(!h),S=()=>c(!v);return e.jsxs("div",{className:"form-width h-[100vh] flex flex-col justify-center mx-auto",children:[e.jsx("div",{className:"flex justify-center pb-4",children:e.jsx("img",{className:"h-10",src:H,alt:"logo"})}),e.jsxs("form",{onSubmit:s.handleSubmit,className:"flex flex-col gap-4 px-4 pb-8 pt-4 form-bg shadow-lg rounded-md",children:[e.jsx("div",{children:e.jsx("h2",{className:"font-medium text-2xl",children:"Create Account"})}),e.jsx("div",{className:"flex w-full",children:e.jsx(L,{className:{errorMessage:["text-5xl, text-blue-700"]},type:"text",variant:"flat",color:s.errors.name&&s.touched.name?"danger":s.touched.name?"success":"default",isInvalid:s.errors.name&&s.touched.name,isRequired:!0,errorMessage:s.touched.name&&s.errors.name,label:"Name",id:"name",name:"name",value:s.values.name,onChange:s.handleChange,onBlur:s.handleBlur})}),e.jsx("div",{className:"flex w-full",children:e.jsx(L,{type:"email",variant:"flat",color:s.errors.email&&s.touched.email?"danger":s.touched.email?"success":"default",isInvalid:s.errors.email&&s.touched.email,isRequired:!0,errorMessage:s.touched.email&&s.errors.email,label:"Email",id:"email",name:"email",value:s.values.email,onChange:s.handleChange,onBlur:s.handleBlur})}),e.jsx("div",{className:"flex w-full",children:e.jsx(L,{label:"Password",variant:"flat",color:s.errors.password&&s.touched.password?"danger":s.touched.password?"success":"default",isInvalid:s.errors.password&&s.touched.password,isRequired:!0,errorMessage:s.touched.password&&s.errors.password,placeholder:"Enter your password",endContent:e.jsx("button",{className:"focus:outline-none",type:"button",onClick:w,children:h?e.jsx(je,{className:"text-2xl text-default-400 pointer-events-none"}):e.jsx(pe,{className:"text-2xl text-default-400 pointer-events-none"})}),type:h?"text":"password",id:"password",name:"password",value:s.values.password,onChange:s.handleChange,onBlur:s.handleBlur})}),e.jsx("div",{className:"flex w-full",children:e.jsx(L,{label:"RePassword",variant:"flat",color:s.errors.rePassword&&s.touched.rePassword?"danger":s.touched.rePassword?"success":"default",isInvalid:s.errors.rePassword&&s.touched.rePassword,isRequired:!0,errorMessage:s.touched.rePassword&&s.errors.rePassword,placeholder:"Enter your password",endContent:e.jsx("button",{className:"focus:outline-none",type:"button",onClick:S,children:v?e.jsx(je,{className:"text-2xl text-default-400 pointer-events-none"}):e.jsx(pe,{className:"text-2xl text-default-400 pointer-events-none"})}),type:v?"text":"password",id:"rePassword",name:"rePassword",value:s.values.rePassword,onChange:s.handleChange,onBlur:s.handleBlur})}),e.jsx("div",{className:"flex w-full",children:e.jsx(L,{type:"tel",variant:"flat",color:s.errors.phone&&s.touched.phone?"danger":s.touched.phone?"success":"default",isInvalid:s.errors.phone&&s.touched.phone,isRequired:!0,errorMessage:s.touched.phone&&s.errors.phone,label:"Phone",id:"phone",name:"phone",value:s.values.phone,onChange:s.handleChange,onBlur:s.handleBlur})}),t&&e.jsx("div",{className:"flex w-full",children:e.jsx("p",{className:"text-center flex-1 text-small text-success-600 rounded-full bg-success-100 py-1",children:t})}),r&&e.jsx("div",{className:"flex w-full",children:e.jsx("p",{className:"text-center flex-1 text-small text-danger-500 rounded-full bg-danger-100 py-1",children:r})}),e.jsx("div",{className:"flex w-full",children:e.jsx(k,{fullWidth:!0,size:"lg",color:"primary",type:"submit",isLoading:n,isDisabled:!(s.dirty&&s.isValid),children:n?"Processing":"Create an account"})}),e.jsxs("p",{className:"text-medium text-zinc-600",children:["Already have an account?"," ",e.jsx(_,{href:"/Signin",className:"text-blue-900 font-medium hover:underline","aria-label":"Login",children:"Login here"})]})]})]})}function gt(){const a=E(),[r,i]=x.useState(""),[t,o]=x.useState(""),[n,u]=x.useState(!1),l=O();async function s(h){try{u(!0);const j=await fetch("https://ecommerce.routemisr.com/api/v1/auth/forgotPasswords",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(j.ok){const v=await j.json();console.log(v),i(""),o(v.message),v.statusMsg==="success"&&(l(ks(h.email)),setTimeout(()=>{a("/Email_ownership")},1e3))}else{const v=await j.json();o(""),i(v.message)}}catch(j){console.error("failed(network):",j.message)}finally{u(!1)}}const d=Z({initialValues:{email:""},onSubmit:h=>{s(h)}});return e.jsxs("div",{className:"form-width h-[90vh] flex flex-col justify-center mx-auto",children:[e.jsx("div",{className:"flex justify-center pb-4",children:e.jsx("img",{className:"h-10",src:H,alt:"logo"})}),e.jsxs("form",{onSubmit:d.handleSubmit,className:"flex flex-col gap-4 px-4 pb-8 pt-4 form-bg shadow-lg rounded-md",children:[e.jsx("div",{children:e.jsx("h2",{className:"font-medium text-2xl",children:"Forgot your password?"})}),e.jsx("div",{children:e.jsx("p",{className:"text-small",children:"Type in your email in the field below and we will send you a code to reset your password."})}),e.jsx("div",{className:"flex w-full",children:e.jsx(L,{type:"email",variant:"flat",label:"Email",id:"email",name:"email",value:d.values.email,onChange:d.handleChange,onBlur:d.handleBlur})}),t&&e.jsx("div",{className:"flex w-full",children:e.jsx("p",{className:"text-center flex-1 text-small text-success-600 rounded-full bg-success-100 py-1",children:t})}),r&&e.jsx("div",{className:"flex w-full",children:e.jsx("p",{className:"text-center flex-1 text-small text-danger-500 rounded-full bg-danger-100 py-1",children:r})}),e.jsx("div",{className:"flex w-full",children:e.jsx(k,{fullWidth:!0,size:"lg",color:"primary",type:"submit",isLoading:n,children:n?"Processing":"Send Code"})}),e.jsx("p",{className:"text-medium text-zinc-600",children:e.jsx(_,{href:"/Signin",className:"text-blue-900 font-medium hover:underline","aria-label":"Sign in",children:"Back to Login"})})]})]})}function ft(){const a=E(),[r,i]=x.useState(""),[t,o]=x.useState(""),[n,u]=x.useState(!1);async function l(d){try{u(!0);const h=await fetch("https://ecommerce.routemisr.com/api/v1/auth/verifyResetCode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(h.ok){const j=await h.json();console.log(j),i(""),o("Correct Code"),j.status==="Success"&&setTimeout(()=>{a("/Reset_password")},1e3)}else{const j=await h.json();o(""),i(j.message)}}catch(h){console.error("failed(network):",h.message)}u(!1)}const s=Z({initialValues:{resetCode:""},onSubmit:d=>{l(d)}});return e.jsxs("div",{className:"form-width h-[90vh] flex flex-col justify-center mx-auto",children:[e.jsx("div",{className:"flex justify-center pb-4",children:e.jsx("img",{className:"h-10",src:H,alt:"logo"})}),e.jsxs("form",{onSubmit:s.handleSubmit,className:"flex flex-col gap-4 px-4 pb-8 pt-4 form-bg shadow-lg rounded-md",children:[e.jsx("div",{children:e.jsx("h2",{className:"font-medium text-2xl",children:"Email Verification"})}),e.jsx("div",{children:e.jsx("p",{className:"text-small",children:"Please check your email for the verification code and enter it below."})}),e.jsx("div",{className:"flex w-full",children:e.jsx(L,{type:"tel",variant:"flat",isRequired:!0,label:"Code",id:"resetCode",name:"resetCode",value:s.values.resetCode,onChange:s.handleChange,onBlur:s.handleBlur})}),t&&e.jsx("div",{className:"flex w-full",children:e.jsx("p",{className:"text-center flex-1 text-small text-success-600 rounded-full bg-success-100 py-1",children:t})}),r&&e.jsx("div",{className:"flex w-full",children:e.jsx("p",{className:"text-center flex-1 text-small text-danger-500 rounded-full bg-danger-100 py-1",children:r})}),e.jsx("div",{className:"flex w-full",children:e.jsx(k,{fullWidth:!0,size:"lg",color:"primary",type:"submit",isLoading:n,isDisabled:!(s.dirty&&s.isValid),children:n?"Processing":"Verify Code"})}),e.jsx("p",{className:"text-medium text-zinc-600",children:e.jsx(_,{href:"/Forgot_password",className:"text-blue-900 font-medium hover:underline","aria-label":"Login",children:"Go Back"})})]})]})}const Ce=a=>e.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...a,children:[e.jsx("path",{d:"M21.25 9.14969C18.94 5.51969 15.56 3.42969 12 3.42969C10.22 3.42969 8.49 3.94969 6.91 4.91969C5.33 5.89969 3.91 7.32969 2.75 9.14969C1.75 10.7197 1.75 13.2697 2.75 14.8397C5.06 18.4797 8.44 20.5597 12 20.5597C13.78 20.5597 15.51 20.0397 17.09 19.0697C18.67 18.0897 20.09 16.6597 21.25 14.8397C22.25 13.2797 22.25 10.7197 21.25 9.14969ZM12 16.0397C9.76 16.0397 7.96 14.2297 7.96 11.9997C7.96 9.76969 9.76 7.95969 12 7.95969C14.24 7.95969 16.04 9.76969 16.04 11.9997C16.04 14.2297 14.24 16.0397 12 16.0397Z",fill:"currentColor"}),e.jsx("path",{d:"M11.9984 9.14062C10.4284 9.14062 9.14844 10.4206 9.14844 12.0006C9.14844 13.5706 10.4284 14.8506 11.9984 14.8506C13.5684 14.8506 14.8584 13.5706 14.8584 12.0006C14.8584 10.4306 13.5684 9.14062 11.9984 9.14062Z",fill:"currentColor"})]}),we=a=>e.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...a,children:[e.jsx("path",{d:"M21.2714 9.17834C20.9814 8.71834 20.6714 8.28834 20.3514 7.88834C19.9814 7.41834 19.2814 7.37834 18.8614 7.79834L15.8614 10.7983C16.0814 11.4583 16.1214 12.2183 15.9214 13.0083C15.5714 14.4183 14.4314 15.5583 13.0214 15.9083C12.2314 16.1083 11.4714 16.0683 10.8114 15.8483C10.8114 15.8483 9.38141 17.2783 8.35141 18.3083C7.85141 18.8083 8.01141 19.6883 8.68141 19.9483C9.75141 20.3583 10.8614 20.5683 12.0014 20.5683C13.7814 20.5683 15.5114 20.0483 17.0914 19.0783C18.7014 18.0783 20.1514 16.6083 21.3214 14.7383C22.2714 13.2283 22.2214 10.6883 21.2714 9.17834Z",fill:"currentColor"}),e.jsx("path",{d:"M14.0206 9.98062L9.98062 14.0206C9.47062 13.5006 9.14062 12.7806 9.14062 12.0006C9.14062 10.4306 10.4206 9.14062 12.0006 9.14062C12.7806 9.14062 13.5006 9.47062 14.0206 9.98062Z",fill:"currentColor"}),e.jsx("path",{d:"M18.25 5.74969L14.86 9.13969C14.13 8.39969 13.12 7.95969 12 7.95969C9.76 7.95969 7.96 9.76969 7.96 11.9997C7.96 13.1197 8.41 14.1297 9.14 14.8597L5.76 18.2497H5.75C4.64 17.3497 3.62 16.1997 2.75 14.8397C1.75 13.2697 1.75 10.7197 2.75 9.14969C3.91 7.32969 5.33 5.89969 6.91 4.91969C8.49 3.95969 10.22 3.42969 12 3.42969C14.23 3.42969 16.39 4.24969 18.25 5.74969Z",fill:"currentColor"}),e.jsx("path",{d:"M14.8581 11.9981C14.8581 13.5681 13.5781 14.8581 11.9981 14.8581C11.9381 14.8581 11.8881 14.8581 11.8281 14.8381L14.8381 11.8281C14.8581 11.8881 14.8581 11.9381 14.8581 11.9981Z",fill:"currentColor"}),e.jsx("path",{d:"M21.7689 2.22891C21.4689 1.92891 20.9789 1.92891 20.6789 2.22891L2.22891 20.6889C1.92891 20.9889 1.92891 21.4789 2.22891 21.7789C2.37891 21.9189 2.56891 21.9989 2.76891 21.9989C2.96891 21.9989 3.15891 21.9189 3.30891 21.7689L21.7689 3.30891C22.0789 3.00891 22.0789 2.52891 21.7689 2.22891Z",fill:"currentColor"})]});function pt(){const a=E(),[r,i]=x.useState(""),[t,o]=x.useState(""),[n,u]=x.useState(!1),l=J(y=>y.email);console.log(l);async function s(y){try{u(!0);const C=await fetch("https://ecommerce.routemisr.com/api/v1/auth/resetPassword",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:y.email,newPassword:y.newPassword})});if(C.ok){const T=await C.json();i(""),o("Your password has been successfully reset"),T&&setTimeout(()=>{a("/Signin")},2e3)}else{const T=await C.json();o(""),i(T.message)}}catch(C){console.error("failed(network):",C.message)}u(!1)}const d=Z({initialValues:{email:l,newPassword:"",rePassword:""},validationSchema:h,onSubmit:y=>{s(y)}});function h(){return new _e({newPassword:B().min(6).required("New Password is required"),rePassword:B().oneOf([Ie("newPassword")],"Oops! The passwords you entered don't match. Please try again.").required("Confirm Password is required")})}const[j,v]=R.useState(!1),[c,w]=R.useState(!1),S=()=>v(!j),M=()=>w(!c);return e.jsxs("div",{className:"form-width h-[90vh] flex flex-col justify-center mx-auto",children:[e.jsx("div",{className:"flex justify-center pb-4",children:e.jsx("img",{className:"h-10",src:H,alt:"logo"})}),e.jsxs("form",{onSubmit:d.handleSubmit,className:"flex flex-col gap-4 px-4 pb-8 pt-4 form-bg shadow-lg rounded-md",children:[e.jsx("div",{children:e.jsx("h2",{className:"font-medium text-2xl",children:"Change Password"})}),e.jsx("div",{className:"flex w-full",children:e.jsx(L,{label:"New Password",variant:"flat",color:d.errors.newPassword&&d.touched.newPassword?"danger":d.touched.newPassword?"success":"default",isInvalid:d.errors.newPassword&&d.touched.newPassword,isRequired:!0,errorMessage:d.touched.newPassword&&d.errors.newPassword,endContent:e.jsx("button",{className:"focus:outline-none",type:"button",onClick:S,children:j?e.jsx(we,{className:"text-2xl text-default-400 pointer-events-none"}):e.jsx(Ce,{className:"text-2xl text-default-400 pointer-events-none"})}),type:j?"text":"password",id:"newPassword",name:"newPassword",value:d.values.newPassword,onChange:d.handleChange,onBlur:d.handleBlur})}),e.jsx("div",{className:"flex w-full",children:e.jsx(L,{label:"RePassword",variant:"flat",color:d.errors.rePassword&&d.touched.rePassword?"danger":d.touched.rePassword?"success":"default",isInvalid:d.errors.rePassword&&d.touched.rePassword,isRequired:!0,errorMessage:d.touched.rePassword&&d.errors.rePassword,endContent:e.jsx("button",{className:"focus:outline-none",type:"button",onClick:M,children:c?e.jsx(we,{className:"text-2xl text-default-400 pointer-events-none"}):e.jsx(Ce,{className:"text-2xl text-default-400 pointer-events-none"})}),type:c?"text":"password",id:"rePassword",name:"rePassword",value:d.values.rePassword,onChange:d.handleChange,onBlur:d.handleBlur})}),t&&e.jsx("div",{className:"flex w-full",children:e.jsx("p",{className:"text-center flex-1 text-small text-success-600 rounded-full bg-success-100 py-1",children:t})}),r&&e.jsx("div",{className:"flex w-full",children:e.jsx("p",{className:"text-center flex-1 text-small text-danger-500 rounded-full bg-danger-100 py-1",children:r})}),e.jsx("div",{className:"flex w-full",children:e.jsx(k,{fullWidth:!0,size:"lg",color:"primary",type:"submit",isLoading:n,isDisabled:!(d.dirty&&d.isValid),children:n?"Processing":"Reset Password"})}),e.jsx("p",{className:"text-medium text-zinc-600",children:e.jsx(_,{href:"/Signin",className:"text-blue-900 font-medium hover:underline","aria-label":"Login",children:"Back to login"})})]})]})}function jt(){return e.jsx(vs,{render:({online:a})=>e.jsx(Ns,{children:!a&&e.jsx(bs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:"0.4"},children:e.jsxs("div",{className:"fixed z-[99999999] offline-state-width flex justify-center items-center gap-1 text-center bottom-4 left-1/2 -translate-x-1/2 px-8 py-4 rounded-full bg-yellow-400 bg-opacity-70 backdrop-blur-sm text-black",children:[e.jsx(ls,{className:"text-xl min-w-6"}),e.jsx("p",{children:"You're offline. Check your connection."})]})},"offlineToast")})})}function Ct(){const a=E();return e.jsx(Je,{store:_s,children:e.jsxs(js,{navigate:a,children:[e.jsxs(es,{children:[e.jsx(P,{path:"*",element:e.jsx(Fs,{})}),e.jsxs(P,{path:"/",element:e.jsx(Bs,{children:e.jsx(Zs,{})}),children:[e.jsx(P,{index:!0,element:e.jsx(fe,{})}),e.jsx(P,{path:"Home",element:e.jsx(fe,{})}),e.jsx(P,{path:"Cart",element:e.jsx(Xs,{})}),e.jsx(P,{path:"Wishlist",element:e.jsx(et,{})}),e.jsx(P,{path:"Products",element:e.jsx(st,{})}),e.jsx(P,{path:"Categories",element:e.jsx(rt,{})}),e.jsx(P,{path:"Brands",element:e.jsx(it,{})}),e.jsx(P,{path:"Product_details/:id",element:e.jsx(ot,{})}),e.jsx(P,{path:"Address/:id",element:e.jsx(ct,{})})]}),e.jsxs(P,{path:"/",element:e.jsx(dt,{}),children:[e.jsx(P,{path:"Signin",element:e.jsx(xt,{})}),e.jsx(P,{path:"Signup",element:e.jsx(ut,{})}),e.jsx(P,{path:"Forgot_password",element:e.jsx(gt,{})}),e.jsx(P,{path:"Email_ownership",element:e.jsx(ft,{})}),e.jsx(P,{path:"Reset_password",element:e.jsx(pt,{})})]})]}),e.jsx(jt,{})]})})}const wt=()=>{const a=x.useState(()=>new Ge({defaultOptions:{queries:{staleTime:6e5,cacheTime:9e5}}}))[0];return e.jsx(qe,{children:e.jsx(Ue,{client:a,children:e.jsx(Ct,{})})})};$e.createRoot(document.getElementById("root")).render(e.jsx(wt,{}));
