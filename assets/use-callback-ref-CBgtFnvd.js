import{r as i}from"./react-Bt3bhBdA.js";function c(a,r){return typeof a=="function"?a(r):a&&(a.current=r),a}function s(a,r){var n=i.useState(function(){return{value:a,callback:r,facade:{get current(){return n.value},set current(t){var u=n.value;u!==t&&(n.value=t,n.callback(t,u))}}}})[0];return n.callback=r,n.facade}var f=new WeakMap;function h(a,r){var n=s(r||null,function(t){return a.forEach(function(u){return c(u,t)})});return i.useLayoutEffect(function(){var t=f.get(n);if(t){var u=new Set(t),o=new Set(a),l=n.current;u.forEach(function(e){o.has(e)||c(e,null)}),o.forEach(function(e){u.has(e)||c(e,l)})}f.set(n,a)},[a]),n}export{h as u};
