import{i as Sr,t as mr,c as Tr}from"./lodash-es-BJz5pcJ4.js";import{r as f}from"./react-Bt3bhBdA.js";import{i as D}from"./react-fast-compare-CKEne1zV.js";import"./hoist-non-react-statics-Buxaj0Kl.js";var jr=function(t){return Hr(t)&&!Pr(t)};function Hr(e){return!!e&&typeof e=="object"}function Pr(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||$r(e)}var Gr=typeof Symbol=="function"&&Symbol.for,Wr=Gr?Symbol.for("react.element"):60103;function $r(e){return e.$$typeof===Wr}function Kr(e){return Array.isArray(e)?[]:{}}function W(e,t){return t.clone!==!1&&t.isMergeableObject(e)?j(Kr(e),e,t):e}function zr(e,t,i){return e.concat(t).map(function(n){return W(n,i)})}function Yr(e,t,i){var n={};return i.isMergeableObject(e)&&Object.keys(e).forEach(function(a){n[a]=W(e[a],i)}),Object.keys(t).forEach(function(a){!i.isMergeableObject(t[a])||!e[a]?n[a]=W(t[a],i):n[a]=j(e[a],t[a],i)}),n}function j(e,t,i){i=i||{},i.arrayMerge=i.arrayMerge||zr,i.isMergeableObject=i.isMergeableObject||jr;var n=Array.isArray(t),a=Array.isArray(e),c=n===a;return c?n?i.arrayMerge(e,t,i):Yr(e,t,i):W(t,i)}j.all=function(t,i){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,a){return j(n,a,i)},{})};var er=j;function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},T.apply(this,arguments)}function br(e,t){if(e==null)return{};var i={},n=Object.keys(e),a,c;for(c=0;c<n.length;c++)a=n[c],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}var $=f.createContext(void 0);$.displayName="FormikContext";$.Provider;$.Consumer;function qr(){var e=f.useContext($);return e}var C=function(t){return typeof t=="function"},K=function(t){return t!==null&&typeof t=="object"},Jr=function(t){return String(Math.floor(Number(t)))===t},x=function(t){return Object.prototype.toString.call(t)==="[object String]"},rr=function(t){return K(t)&&C(t.then)};function m(e,t,i,n){n===void 0&&(n=0);for(var a=mr(t);e&&n<a.length;)e=e[a[n++]];return n!==a.length&&!e||e===void 0?i:e}function w(e,t,i){for(var n=Tr(e),a=n,c=0,v=mr(t);c<v.length-1;c++){var p=v[c],F=m(e,v.slice(0,c+1));if(F&&(K(F)||Array.isArray(F)))a=a[p]=Tr(F);else{var A=v[c+1];a=a[p]=Jr(A)&&Number(A)>=0?[]:{}}}return(c===0?e:a)[v[c]]===i?e:(i===void 0?delete a[v[c]]:a[v[c]]=i,c===0&&i===void 0&&delete n[v[c]],n)}function Ar(e,t,i,n){i===void 0&&(i=new WeakMap),n===void 0&&(n={});for(var a=0,c=Object.keys(e);a<c.length;a++){var v=c[a],p=e[v];K(p)?i.get(p)||(i.set(p,!0),n[v]=Array.isArray(p)?[]:{},Ar(p,t,i,n[v])):n[v]=t}return n}function Qr(e,t){switch(t.type){case"SET_VALUES":return T({},e,{values:t.payload});case"SET_TOUCHED":return T({},e,{touched:t.payload});case"SET_ERRORS":return D(e.errors,t.payload)?e:T({},e,{errors:t.payload});case"SET_STATUS":return T({},e,{status:t.payload});case"SET_ISSUBMITTING":return T({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return T({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return T({},e,{values:w(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return T({},e,{touched:w(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return T({},e,{errors:w(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return T({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return T({},e,{touched:Ar(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return T({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return T({},e,{isSubmitting:!1});default:return e}}var V={},G={};function ce(e){var t=e.validateOnChange,i=t===void 0?!0:t,n=e.validateOnBlur,a=n===void 0?!0:n,c=e.validateOnMount,v=c===void 0?!1:c,p=e.isInitialValid,F=e.enableReinitialize,A=F===void 0?!1:F,ir=e.onSubmit,gr=br(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),s=T({validateOnChange:i,validateOnBlur:a,validateOnMount:v,onSubmit:ir},gr),g=f.useRef(s.initialValues),L=f.useRef(s.initialErrors||V),O=f.useRef(s.initialTouched||G),k=f.useRef(s.initialStatus),I=f.useRef(!1),_=f.useRef({});f.useEffect(function(){return I.current=!0,function(){I.current=!1}},[]);var Ir=f.useState(0),Rr=Ir[1],H=f.useRef({values:s.initialValues,errors:s.initialErrors||V,touched:s.initialTouched||G,status:s.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),E=H.current,y=f.useCallback(function(r){var u=H.current;H.current=Qr(u,r),u!==H.current&&Rr(function(l){return l+1})},[]),nr=f.useCallback(function(r,u){return new Promise(function(l,o){var d=s.validate(r,u);d==null?l(V):rr(d)?d.then(function(h){l(h||V)},function(h){o(h)}):l(d)})},[s.validate]),z=f.useCallback(function(r,u){var l=s.validationSchema,o=C(l)?l(u):l,d=u&&o.validateAt?o.validateAt(u,r):Zr(r,o);return new Promise(function(h,S){d.then(function(){h(V)},function(M){M.name==="ValidationError"?h(Xr(M)):S(M)})})},[s.validationSchema]),ar=f.useCallback(function(r,u){return new Promise(function(l){return l(_.current[r].validate(u))})},[]),ur=f.useCallback(function(r){var u=Object.keys(_.current).filter(function(o){return C(_.current[o].validate)}),l=u.length>0?u.map(function(o){return ar(o,m(r,o))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(l).then(function(o){return o.reduce(function(d,h,S){return h==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||h&&(d=w(d,u[S],h)),d},{})})},[ar]),Cr=f.useCallback(function(r){return Promise.all([ur(r),s.validationSchema?z(r):{},s.validate?nr(r):{}]).then(function(u){var l=u[0],o=u[1],d=u[2],h=er.all([l,o,d],{arrayMerge:xr});return h})},[s.validate,s.validationSchema,ur,nr,z]),R=b(function(r){return r===void 0&&(r=E.values),y({type:"SET_ISVALIDATING",payload:!0}),Cr(r).then(function(u){return I.current&&(y({type:"SET_ISVALIDATING",payload:!1}),y({type:"SET_ERRORS",payload:u})),u})});f.useEffect(function(){v&&I.current===!0&&D(g.current,s.initialValues)&&R(g.current)},[v,R]);var B=f.useCallback(function(r){var u=r&&r.values?r.values:g.current,l=r&&r.errors?r.errors:L.current?L.current:s.initialErrors||{},o=r&&r.touched?r.touched:O.current?O.current:s.initialTouched||{},d=r&&r.status?r.status:k.current?k.current:s.initialStatus;g.current=u,L.current=l,O.current=o,k.current=d;var h=function(){y({type:"RESET_FORM",payload:{isSubmitting:!!r&&!!r.isSubmitting,errors:l,touched:o,status:d,values:u,isValidating:!!r&&!!r.isValidating,submitCount:r&&r.submitCount&&typeof r.submitCount=="number"?r.submitCount:0}})};if(s.onReset){var S=s.onReset(E.values,Er);rr(S)?S.then(h):h()}else h()},[s.initialErrors,s.initialStatus,s.initialTouched,s.onReset]);f.useEffect(function(){I.current===!0&&!D(g.current,s.initialValues)&&A&&(g.current=s.initialValues,B(),v&&R(g.current))},[A,s.initialValues,B,v,R]),f.useEffect(function(){A&&I.current===!0&&!D(L.current,s.initialErrors)&&(L.current=s.initialErrors||V,y({type:"SET_ERRORS",payload:s.initialErrors||V}))},[A,s.initialErrors]),f.useEffect(function(){A&&I.current===!0&&!D(O.current,s.initialTouched)&&(O.current=s.initialTouched||G,y({type:"SET_TOUCHED",payload:s.initialTouched||G}))},[A,s.initialTouched]),f.useEffect(function(){A&&I.current===!0&&!D(k.current,s.initialStatus)&&(k.current=s.initialStatus,y({type:"SET_STATUS",payload:s.initialStatus}))},[A,s.initialStatus,s.initialTouched]);var lr=b(function(r){if(_.current[r]&&C(_.current[r].validate)){var u=m(E.values,r),l=_.current[r].validate(u);return rr(l)?(y({type:"SET_ISVALIDATING",payload:!0}),l.then(function(o){return o}).then(function(o){y({type:"SET_FIELD_ERROR",payload:{field:r,value:o}}),y({type:"SET_ISVALIDATING",payload:!1})})):(y({type:"SET_FIELD_ERROR",payload:{field:r,value:l}}),Promise.resolve(l))}else if(s.validationSchema)return y({type:"SET_ISVALIDATING",payload:!0}),z(E.values,r).then(function(o){return o}).then(function(o){y({type:"SET_FIELD_ERROR",payload:{field:r,value:m(o,r)}}),y({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Fr=f.useCallback(function(r,u){var l=u.validate;_.current[r]={validate:l}},[]),Mr=f.useCallback(function(r){delete _.current[r]},[]),or=b(function(r,u){y({type:"SET_TOUCHED",payload:r});var l=u===void 0?a:u;return l?R(E.values):Promise.resolve()}),cr=f.useCallback(function(r){y({type:"SET_ERRORS",payload:r})},[]),sr=b(function(r,u){var l=C(r)?r(E.values):r;y({type:"SET_VALUES",payload:l});var o=u===void 0?i:u;return o?R(l):Promise.resolve()}),P=f.useCallback(function(r,u){y({type:"SET_FIELD_ERROR",payload:{field:r,value:u}})},[]),U=b(function(r,u,l){y({type:"SET_FIELD_VALUE",payload:{field:r,value:u}});var o=l===void 0?i:l;return o?R(w(E.values,r,u)):Promise.resolve()}),fr=f.useCallback(function(r,u){var l=u,o=r,d;if(!x(r)){r.persist&&r.persist();var h=r.target?r.target:r.currentTarget,S=h.type,M=h.name,X=h.id,Z=h.value,Nr=h.checked,ne=h.outerHTML,pr=h.options,Br=h.multiple;l=u||M||X,o=/number|range/.test(S)?(d=parseFloat(Z),isNaN(d)?"":d):/checkbox/.test(S)?ee(m(E.values,l),Nr,Z):pr&&Br?re(pr):Z}l&&U(l,o)},[U,E.values]),Y=b(function(r){if(x(r))return function(u){return fr(u,r)};fr(r)}),N=b(function(r,u,l){u===void 0&&(u=!0),y({type:"SET_FIELD_TOUCHED",payload:{field:r,value:u}});var o=l===void 0?a:l;return o?R(E.values):Promise.resolve()}),dr=f.useCallback(function(r,u){r.persist&&r.persist();var l=r.target,o=l.name,d=l.id,h=l.outerHTML,S=u||o||d;N(S,!0)},[N]),q=b(function(r){if(x(r))return function(u){return dr(u,r)};dr(r)}),vr=f.useCallback(function(r){C(r)?y({type:"SET_FORMIK_STATE",payload:r}):y({type:"SET_FORMIK_STATE",payload:function(){return r}})},[]),hr=f.useCallback(function(r){y({type:"SET_STATUS",payload:r})},[]),yr=f.useCallback(function(r){y({type:"SET_ISSUBMITTING",payload:r})},[]),J=b(function(){return y({type:"SUBMIT_ATTEMPT"}),R().then(function(r){var u=r instanceof Error,l=!u&&Object.keys(r).length===0;if(l){var o;try{if(o=Lr(),o===void 0)return}catch(d){throw d}return Promise.resolve(o).then(function(d){return I.current&&y({type:"SUBMIT_SUCCESS"}),d}).catch(function(d){if(I.current)throw y({type:"SUBMIT_FAILURE"}),d})}else if(I.current&&(y({type:"SUBMIT_FAILURE"}),u))throw r})}),_r=b(function(r){r&&r.preventDefault&&C(r.preventDefault)&&r.preventDefault(),r&&r.stopPropagation&&C(r.stopPropagation)&&r.stopPropagation(),J().catch(function(u){console.warn("Warning: An unhandled error was caught from submitForm()",u)})}),Er={resetForm:B,validateForm:R,validateField:lr,setErrors:cr,setFieldError:P,setFieldTouched:N,setFieldValue:U,setStatus:hr,setSubmitting:yr,setTouched:or,setValues:sr,setFormikState:vr,submitForm:J},Lr=b(function(){return ir(E.values,Er)}),Or=b(function(r){r&&r.preventDefault&&C(r.preventDefault)&&r.preventDefault(),r&&r.stopPropagation&&C(r.stopPropagation)&&r.stopPropagation(),B()}),Vr=f.useCallback(function(r){return{value:m(E.values,r),error:m(E.errors,r),touched:!!m(E.touched,r),initialValue:m(g.current,r),initialTouched:!!m(O.current,r),initialError:m(L.current,r)}},[E.errors,E.touched,E.values]),Dr=f.useCallback(function(r){return{setValue:function(l,o){return U(r,l,o)},setTouched:function(l,o){return N(r,l,o)},setError:function(l){return P(r,l)}}},[U,N,P]),wr=f.useCallback(function(r){var u=K(r),l=u?r.name:r,o=m(E.values,l),d={name:l,value:o,onChange:Y,onBlur:q};if(u){var h=r.type,S=r.value,M=r.as,X=r.multiple;h==="checkbox"?S===void 0?d.checked=!!o:(d.checked=!!(Array.isArray(o)&&~o.indexOf(S)),d.value=S):h==="radio"?(d.checked=o===S,d.value=S):M==="select"&&X&&(d.value=d.value||[],d.multiple=!0)}return d},[q,Y,E.values]),Q=f.useMemo(function(){return!D(g.current,E.values)},[g.current,E.values]),kr=f.useMemo(function(){return typeof p<"u"?Q?E.errors&&Object.keys(E.errors).length===0:p!==!1&&C(p)?p(s):p:E.errors&&Object.keys(E.errors).length===0},[p,Q,E.errors,s]),Ur=T({},E,{initialValues:g.current,initialErrors:L.current,initialTouched:O.current,initialStatus:k.current,handleBlur:q,handleChange:Y,handleReset:Or,handleSubmit:_r,resetForm:B,setErrors:cr,setFormikState:vr,setFieldTouched:N,setFieldValue:U,setFieldError:P,setStatus:hr,setSubmitting:yr,setTouched:or,setValues:sr,submitForm:J,validateForm:R,validateField:lr,isValid:kr,dirty:Q,unregisterField:Mr,registerField:Fr,getFieldProps:wr,getFieldMeta:Vr,getFieldHelpers:Dr,validateOnBlur:a,validateOnChange:i,validateOnMount:v});return Ur}function Xr(e){var t={};if(e.inner){if(e.inner.length===0)return w(t,e.path,e.message);for(var a=e.inner,i=Array.isArray(a),n=0,a=i?a:a[Symbol.iterator]();;){var c;if(i){if(n>=a.length)break;c=a[n++]}else{if(n=a.next(),n.done)break;c=n.value}var v=c;m(t,v.path)||(t=w(t,v.path,v.message))}}return t}function Zr(e,t,i,n){i===void 0&&(i=!1);var a=tr(e);return t[i?"validateSync":"validate"](a,{abortEarly:!1,context:n||a})}function tr(e){var t=Array.isArray(e)?[]:{};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=String(i);Array.isArray(e[n])===!0?t[n]=e[n].map(function(a){return Array.isArray(a)===!0||Sr(a)?tr(a):a!==""?a:void 0}):Sr(e[n])?t[n]=tr(e[n]):t[n]=e[n]!==""?e[n]:void 0}return t}function xr(e,t,i){var n=e.slice();return t.forEach(function(c,v){if(typeof n[v]>"u"){var p=i.clone!==!1,F=p&&i.isMergeableObject(c);n[v]=F?er(Array.isArray(c)?[]:{},c,i):c}else i.isMergeableObject(c)?n[v]=er(e[v],c,i):e.indexOf(c)===-1&&n.push(c)}),n}function re(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function ee(e,t,i){if(typeof e=="boolean")return!!t;var n=[],a=!1,c=-1;if(Array.isArray(e))n=e,c=e.indexOf(i),a=c>=0;else if(!i||i=="true"||i=="false")return!!t;return t&&i&&!a?n.concat(i):a?n.slice(0,c).concat(n.slice(c+1)):n}var te=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?f.useLayoutEffect:f.useEffect;function b(e){var t=f.useRef(e);return te(function(){t.current=e}),f.useCallback(function(){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t.current.apply(void 0,n)},[])}var ie=f.forwardRef(function(e,t){var i=e.action,n=br(e,["action"]),a=i??"#",c=qr(),v=c.handleReset,p=c.handleSubmit;return f.createElement("form",T({onSubmit:p,ref:t,onReset:v,action:a},n))});ie.displayName="Form";export{ce as u};
